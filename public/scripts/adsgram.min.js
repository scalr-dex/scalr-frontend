!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports)
    : 'function' == typeof define && define.amd
      ? define(['exports'], t)
      : t(
          ((e = 'undefined' != typeof globalThis ? globalThis : e || self).SAD =
            {})
        )
})(this, function (e) {
  'use strict'
  var t = Object.defineProperty,
    n = Object.defineProperties,
    r = Object.getOwnPropertyDescriptors,
    i = Object.getOwnPropertySymbols,
    a = Object.prototype.hasOwnProperty,
    o = Object.prototype.propertyIsEnumerable,
    s = (e, n, r) =>
      n in e
        ? t(e, n, { enumerable: !0, configurable: !0, writable: !0, value: r })
        : (e[n] = r),
    l = (e, t) => {
      for (var n in t || (t = {})) a.call(t, n) && s(e, n, t[n])
      if (i) for (var n of i(t)) o.call(t, n) && s(e, n, t[n])
      return e
    },
    c = (e, t) => n(e, r(t)),
    d = (e, t, n) => (s(e, 'symbol' != typeof t ? t + '' : t, n), n),
    u = (e, t, n) =>
      new Promise((r, i) => {
        var a = (e) => {
            try {
              s(n.next(e))
            } catch (It) {
              i(It)
            }
          },
          o = (e) => {
            try {
              s(n.throw(e))
            } catch (It) {
              i(It)
            }
          },
          s = (e) => (e.done ? r(e.value) : Promise.resolve(e.value).then(a, o))
        s((n = n.apply(e, t)).next())
      })
  const p = {
      ru: 'Ð£Ð¿Ñ! Ð’ Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð½ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð¹ Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ñ‘ Ñ€Ð°Ð· Ñ‡ÑƒÑ‚ÑŒ Ð¿Ð¾Ð·Ð¶Ðµ ðŸ™',
      en: 'Oops! No ads available at the moment. Try again later ðŸ™',
    },
    h = 'RewardedVideo',
    _ = 'FullscreenMedia',
    m = {
      RewardBlock: 'RewardBlock',
      InterstitialFullscreen: 'InterstitialFullscreen',
    },
    f = {
      themeParams: {
        accentTextColor: '#168acd',
        bgColor: '#ffffff',
        buttonColor: '#40a7e3',
        buttonTextColor: '#ffffff',
        destructiveTextColor: '#d14e4e',
        headerBgColor: '#ffffff',
        hintColor: '#999999',
        linkColor: '#168acd',
        secondaryBgColor: '#f1f1f1',
        sectionBgColor: '#ffffff',
        sectionHeaderTextColor: '#168acd',
        sectionSeparatorColor: '#e7e7e7',
        subtitleTextColor: '#999999',
        textColor: '#000000',
      },
      initData: {
        authDate: new Date(1724378007e3),
        hash: 'e1d28656e2cc7529099f01c0b145b7f5c0006d2d7bb0640ffa5d17c4e3f485fc',
        user: {
          allowsWriteToPm: !0,
          firstName: 'Aliaksei',
          id: 111111,
          languageCode: 'en',
          lastName: 'mock',
          username: 'mock',
        },
      },
      initDataRaw:
        'query_id=AAEMo_0aAAAAAAyj_Ro3BMVq&user=%7B%22id%22%3A111111%2C%22first_name%22%3A%22Aliaksei%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22mock%22%2C%22language_code%22%3A%22en%22%2C%22allows_write_to_pm%22%3Atrue%7D&auth_date=1724378007&hash=e1d28656e2cc7529099f01c0b145b7f5c0006d2d7bb0640ffa5d17c4e3f485fc',
      version: '7.8',
      platform: 'browser',
    }
  class g extends Error {
    constructor(e, t, n) {
      super(t, { cause: n }),
        (this.type = e),
        Object.setPrototypeOf(this, g.prototype)
    }
  }
  function v(e, t, n) {
    return new g(e, t, n)
  }
  const b = 'ERR_METHOD_UNSUPPORTED',
    y = 'ERR_METHOD_PARAMETER_UNSUPPORTED',
    w = 'ERR_UNKNOWN_ENV',
    k = 'ERR_UNEXPECTED_TYPE',
    E = 'ERR_PARSE'
  class x {
    constructor(e, t, n) {
      ;(this.parser = e), (this.isOptional = t), (this.type = n)
    }
    parse(e) {
      if (!this.isOptional || void 0 !== e)
        try {
          return this.parser(e)
        } catch (t) {
          throw v(
            E,
            'Unable to parse value' + (this.type ? ` as ${this.type}` : ''),
            t
          )
        }
    }
    optional() {
      return (this.isOptional = !0), this
    }
    required() {
      return (this.isOptional = !1), this
    }
  }
  function A(e, t) {
    return () => new x(e, !1, t)
  }
  function T() {
    return v(k, 'Value has unexpected type')
  }
  const P = A((e) => {
      if ('number' == typeof e) return e
      if ('string' == typeof e) {
        const t = Number(e)
        if (!Number.isNaN(t)) return t
      }
      throw T()
    }, 'number'),
    C = A((e) => (e instanceof Date ? e : new Date(1e3 * P().parse(e))), 'Date')
  function N(e, t) {
    const n = {}
    for (const i in e) {
      const a = e[i]
      if (!a) continue
      let o, s
      if ('function' == typeof a || 'parse' in a)
        (o = i), (s = 'function' == typeof a ? a : a.parse.bind(a))
      else {
        const { type: e } = a
        ;(o = a.from || i), (s = 'function' == typeof e ? e : e.parse.bind(e))
      }
      try {
        const e = s(t(o))
        void 0 !== e && (n[i] = e)
      } catch (r) {
        throw v(E, `Unable to parse field "${i}"`, r)
      }
    }
    return n
  }
  function S(e, t) {
    return new x(
      (t) => {
        if ('string' != typeof t && !(t instanceof URLSearchParams)) throw T()
        const n = 'string' == typeof t ? new URLSearchParams(t) : t
        return N(e, (e) => {
          const t = n.get(e)
          return null != t ? t : void 0
        })
      },
      !1,
      t
    )
  }
  const R = A((e) => {
    if ('string' == typeof e || 'number' == typeof e) return e.toString()
    throw T()
  }, 'string')
  function I(e) {
    let t = e
    if (
      ('string' == typeof t && (t = JSON.parse(t)),
      'object' != typeof t || null === t || Array.isArray(t))
    )
      throw T()
    return t
  }
  function V(e, t) {
    return new x(
      (t) => {
        const n = I(t)
        return N(e, (e) => n[e])
      },
      !1,
      t
    )
  }
  const L = V(
      {
        id: P(),
        type: R(),
        title: R(),
        photoUrl: { type: R().optional(), from: 'photo_url' },
        username: R().optional(),
      },
      'Chat'
    ).optional(),
    O = A((e) => {
      if ('boolean' == typeof e) return e
      const t = String(e)
      if ('1' === t || 'true' === t) return !0
      if ('0' === t || 'false' === t) return !1
      throw T()
    }, 'boolean'),
    U = {
      addedToAttachmentMenu: {
        type: O().optional(),
        from: 'added_to_attachment_menu',
      },
      allowsWriteToPm: { type: O().optional(), from: 'allows_write_to_pm' },
      firstName: { type: R(), from: 'first_name' },
      id: P(),
      isBot: { type: O().optional(), from: 'is_bot' },
      isPremium: { type: O().optional(), from: 'is_premium' },
      languageCode: { type: R().optional(), from: 'language_code' },
      lastName: { type: R().optional(), from: 'last_name' },
      photoUrl: { type: R().optional(), from: 'photo_url' },
      username: R().optional(),
    },
    D = V(U, 'User').optional(),
    F = V(U, 'User').required()
  function B() {
    return S(
      {
        authDate: { type: C(), from: 'auth_date' },
        canSendAfter: { type: P().optional(), from: 'can_send_after' },
        chat: L,
        chatInstance: { type: R().optional(), from: 'chat_instance' },
        chatType: { type: R().optional(), from: 'chat_type' },
        hash: R(),
        queryId: { type: R().optional(), from: 'query_id' },
        receiver: D,
        startParam: { type: R().optional(), from: 'start_param' },
        user: F,
      },
      'InitData'
    )
  }
  function M(e) {
    const t = e.replace(/\s/g, '').toLowerCase()
    if (
      (function (e) {
        return /^#[\da-f]{6}$/i.test(e)
      })(t)
    )
      return t
    if (
      (function (e) {
        return /^#[\da-f]{3}$/i.test(e)
      })(t)
    ) {
      let e = '#'
      for (let n = 0; n < 3; n += 1) e += t[1 + n].repeat(2)
      return e
    }
    const n =
      t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/) ||
      t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/)
    if (!n)
      throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`)
    return n.slice(1).reduce((e, t) => {
      const n = Number.parseInt(t, 10).toString(16)
      return e + (1 === n.length ? '0' : '') + n
    }, '#')
  }
  const j = A((e) => M(R().parse(e)), 'rgb')
  const W = A((e) => {
    const t = j().optional()
    return Object.entries(I(e)).reduce((e, [n, r]) => {
      var i
      return (
        (e[((i = n), i.replace(/_[a-z]/g, (e) => e[1].toUpperCase()))] =
          t.parse(r)),
        e
      )
    }, {})
  }, 'ThemeParams')
  function $(e) {
    return W().parse(e)
  }
  function H() {
    return (function (e) {
      if (!e) throw new Error('No telegram initParams in storage')
      const {
        tgWebAppData: t,
        tgWebAppVersion: n,
        tgWebAppPlatform: r,
        tgWebAppThemeParams: i,
        tgWebAppBotInline: a,
        tgWebAppShowSettings: o,
        tgWebAppStartParam: s,
      } = e
      return {
        botInline: Boolean(Number(a)),
        initData: ((l = t), B().parse(l)),
        initDataRaw: t,
        showSettings: Boolean(Number(o)),
        startParam: s,
        themeParams: $(i),
        version: n,
        platform: r,
      }
      var l
    })(
      (function (e) {
        const t = sessionStorage.getItem(
          (function (e) {
            return `__telegram__${e}`
          })(e)
        )
        try {
          return t ? JSON.parse(t) : void 0
        } catch (n) {}
      })('initParams')
    )
  }
  function z(e) {
    return S({
      botInline: { type: O().optional(), from: 'tgWebAppBotInline' },
      initData: { type: B(), from: 'tgWebAppData' },
      initDataRaw: { type: R().optional(), from: 'tgWebAppData' },
      platform: { type: R(), from: 'tgWebAppPlatform' },
      showSettings: { type: O().optional(), from: 'tgWebAppShowSettings' },
      startParam: { type: R().optional(), from: 'tgWebAppStartParam' },
      themeParams: { type: W(), from: 'tgWebAppThemeParams' },
      version: { type: R(), from: 'tgWebAppVersion' },
    }).parse(e)
  }
  function q(e) {
    return z(e.replace(/^[^#?]*[#?]/, '').replace(/[#?]/g, '&'))
  }
  function Z() {
    return q(window.location.href)
  }
  function G() {
    const e = performance.getEntriesByType('navigation')[0]
    if (!e) throw new Error('Unable to get first navigation entry.')
    return q(e.name)
  }
  function J() {
    var e, t, n, r
    return z(
      JSON.parse(
        null !=
          (r =
            null !=
            (n =
              null !=
              (t =
                null != (e = sessionStorage.getItem('tma.js/launch-params'))
                  ? e
                  : sessionStorage.getItem('tapps/launchParams'))
                ? t
                : sessionStorage.getItem('telegram-apps/launch-params'))
              ? n
              : sessionStorage.getItem('adsgram/launch-params'))
          ? r
          : ''
      )
    )
  }
  function Y(e) {
    try {
      return (function () {
        for (const t of [Z, G, H, J])
          try {
            return t()
          } catch (e) {}
        throw new Error(
          'Unable to retrieve launch parameters from any known source.'
        )
      })()
    } catch (t) {
      return null == e || e(), f
    }
  }
  function X() {
    return Y().initData.user
  }
  function K() {
    var e
    return null != (e = X().languageCode) ? e : window.navigator.language
  }
  function Q(e) {
    const t = K()
    return t in e ? e[t] : e.en
  }
  const ee = { [h]: '104', [_]: '511' },
    te = h,
    ne = 'duplicateShowError',
    re = 'renderError',
    ie = {
      ['noBannerToShowError']: {
        description: Q(p),
        state: 'load',
        error: !1,
        done: !1,
      },
      [ne]: {
        description: 'Attempt to call show when an ad is being shown',
        state: 'playing',
        error: !0,
        done: !1,
      },
      [re]: {
        description: 'Error during render ad',
        state: 'render',
        error: !0,
        done: !1,
      },
      playError: {
        description: 'Error during playing ad',
        state: 'playing',
        error: !0,
        done: !1,
      },
      skip: {
        description: 'The banner was skipped',
        state: 'playing',
        error: !1,
        done: !1,
      },
      reward: {
        description: 'The banner was viewed to the end',
        state: 'destroy',
        error: !1,
        done: !0,
      },
      complete: {
        description: 'The interstitial banner was viewed to the end or closed',
        state: 'destroy',
        error: !1,
        done: !0,
      },
      noBannerDataError: {
        description: 'No banner data to show',
        state: 'load',
        error: !1,
        done: !1,
      },
    },
    ae = 'https://api.adsgram.ai/',
    oe = 'AdsgramError'
  function se(e) {
    return 'object' == typeof e && null !== e && !Array.isArray(e)
  }
  function le(e, t) {
    return (
      (function (e, t) {
        const n = e.split('.'),
          r = t.split('.'),
          i = Math.max(n.length, r.length)
        for (let a = 0; a < i; a += 1) {
          const e = Number.parseInt(n[a] || '0', 10),
            t = Number.parseInt(r[a] || '0', 10)
          if (e !== t) return e > t ? 1 : -1
        }
        return 0
      })(e, t) <= 0
    )
  }
  function ce(e, t, n) {
    if ('string' == typeof n) {
      if ('web_app_open_link' === e && 'try_instant_view' === t)
        return le('6.4', n)
      if ('web_app_set_header_color' === e && 'color' === t) return le('6.9', n)
    }
    switch (e) {
      case 'web_app_open_tg_link':
      case 'web_app_open_invoice':
      case 'web_app_setup_back_button':
      case 'web_app_set_background_color':
      case 'web_app_set_header_color':
      case 'web_app_trigger_haptic_feedback':
        return le('6.1', t)
      case 'web_app_open_popup':
        return le('6.2', t)
      case 'web_app_close_scan_qr_popup':
      case 'web_app_open_scan_qr_popup':
      case 'web_app_read_text_from_clipboard':
        return le('6.4', t)
      case 'web_app_switch_inline_query':
        return le('6.7', t)
      case 'web_app_request_write_access':
      case 'web_app_request_phone':
        return le('6.9', t)
      case 'web_app_setup_settings_button':
        return le('6.10', t)
      case 'web_app_biometry_get_info':
      case 'web_app_biometry_open_settings':
      case 'web_app_biometry_request_access':
      case 'web_app_biometry_request_auth':
      case 'web_app_biometry_update_token':
        return le('7.2', t)
      default:
        return [
          'iframe_ready',
          'iframe_will_reload',
          'web_app_close',
          'web_app_data_send',
          'web_app_expand',
          'web_app_open_link',
          'web_app_ready',
          'web_app_request_theme',
          'web_app_request_viewport',
          'web_app_setup_main_button',
          'web_app_setup_closing_behavior',
        ].includes(e)
    }
  }
  const de = 'web.telegram.org',
    ue = (e) =>
      e.toLowerCase().startsWith('https://') ? new URL(e).hostname : e,
    pe = (e = !0) => {
      const t = window.location.ancestorOrigins
      if (null == t ? void 0 : t.length) {
        const n = ue(t[t.length - 1])
        return n === de && e ? ue(t[t.length - 2]) : n
      }
      try {
        const e = window.top.location.hostname
        if (e) return e
      } catch (n) {}
      return window.location.hostname
    }
  function he() {
    return (
      (function () {
        try {
          return window.self !== window.top
        } catch (e) {
          return !0
        }
      })() && pe(!1) === de
    )
  }
  let _e = `https://${de}`
  function me() {
    return _e
  }
  function fe(e, t, n) {
    let r,
      i = {}
    void 0 === t && void 0 === n
      ? (i = {})
      : void 0 !== t && void 0 !== n
        ? ((i = n), (r = t))
        : void 0 !== t && ('targetOrigin' in t ? (i = t) : (r = t))
    const { targetOrigin: a = me() } = i
    var o
    if (
      'external' in (o = window) &&
      se(o.external) &&
      'notify' in o.external &&
      'function' == typeof o.external.notify
    )
      window.external.notify(JSON.stringify({ eventType: e, eventData: r }))
    else if (
      (function (e) {
        return (
          'TelegramWebviewProxy' in e &&
          se(e.TelegramWebviewProxy) &&
          'postEvent' in e.TelegramWebviewProxy &&
          'function' == typeof e.TelegramWebviewProxy.postEvent
        )
      })(window)
    )
      window.TelegramWebviewProxy.postEvent(e, JSON.stringify(r))
    else {
      if (!he())
        throw v(
          w,
          'Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside of Telegram application environment.'
        )
      window.parent.postMessage(
        JSON.stringify({ eventType: e, eventData: r }),
        a
      )
    }
  }
  function ge(e) {
    return (t, n) => {
      if (!ce(t, e))
        throw v(b, `Method "${t}" is unsupported in Mini Apps version ${e}`)
      if (se(n)) {
        let r
        if (
          ('web_app_open_link' === t && 'try_instant_view' in n
            ? (r = 'try_instant_view')
            : 'web_app_set_header_color' === t && 'color' in n && (r = 'color'),
          r && !ce(t, r, e))
        )
          throw v(
            y,
            `Parameter "${r}" of "${t}" method is unsupported in Mini Apps version ${e}`
          )
      }
      return fe(t, n)
    }
  }
  function ve() {
    return Y().version
  }
  function be(e) {
    try {
      ge(ve())(
        'web_app_open_popup',
        (function (e) {
          var t
          const n = e.message.trim(),
            r = (null != (t = e.title) ? t : '').trim(),
            i = e.buttons || []
          if (r.length > 64)
            throw new Error(`Title has incorrect size: ${r.length}`)
          if (0 === n.length || n.length > 256)
            throw new Error(`Message has incorrect size: ${n.length}`)
          if (i.length > 3)
            throw new Error(`Buttons have incorrect size: ${i.length}`)
          return {
            title: r,
            message: n,
            buttons:
              0 === i.length
                ? [{ type: 'close', id: '' }]
                : i.map((e) => {
                    var t
                    const { id: n = '' } = e
                    if (n.length > 64)
                      throw new Error(`Button ID has incorrect size: ${n}`)
                    if (
                      !e.type ||
                      'default' === e.type ||
                      'destructive' === e.type
                    ) {
                      const r = e.text.trim()
                      if (0 === r.length || r.length > 64) {
                        const n = null != (t = e.type) ? t : 'default'
                        throw new Error(
                          `Button text with type "${n}" has incorrect size: ${e.text.length}`
                        )
                      }
                      return c(l({}, e), { text: r, id: n })
                    }
                    return c(l({}, e), { id: n })
                  }),
          }
        })(e)
      )
    } catch (t) {
      alert(e.message)
    }
  }
  class ye extends Error {
    constructor({ message: e }) {
      super(e),
        d(this, 'message'),
        (this.name = oe),
        (this.message = `${oe}: ${e}`),
        this.logError(e)
    }
    logError(e) {
      be({
        title: 'AdsgramError',
        message: e.length < 256 ? e : e.slice(0, 255),
      }),
        console.error(this)
    }
  }
  class we extends Error {
    constructor({ message: e, code: t }) {
      super(),
        d(this, 'message'),
        d(this, 'code'),
        (this.message = e),
        (this.code = t)
    }
  }
  const ke = ['blockId', 'campaignId', 'environment'],
    Ee = ({ app: e, type: t, event: n, data: r }) => {
      const i = { app: e, type: t, event: n }
      return (
        r &&
          (i.data = JSON.stringify(
            ((e, t) => {
              const n = [],
                r = []
              for (const [a, o] of Object.entries(t)) {
                const t = e.indexOf(a)
                ;-1 === t ? n.push([a, o]) : (r[t] = [a, o])
              }
              const i = [...n, ...r.filter(Boolean)]
              return Object.fromEntries(i)
            })(ke, r)
          )),
        new URLSearchParams(i)
      )
    }
  class xe {
    constructor(e, t) {
      return (
        d(this, 'apiUrl'),
        d(this, 'app'),
        d(this, 'data'),
        (this.app = e),
        (this.apiUrl = t),
        (this.data = {}),
        this
      )
    }
    getData() {
      return this.data
    }
    add(e, t) {
      return (
        ((e) => {
          if (null == e || '' === e) return !0
          if ('object' == typeof e) {
            for (const t in e)
              if (Object.prototype.hasOwnProperty.call(e, t)) return !1
            return !0
          }
          return !1
        })(t) || (this.data[e] = t),
        this
      )
    }
    addError(e) {
      return (
        (this.data.error = (function (e) {
          return e instanceof Error
            ? { name: e.name, message: e.message, stack: e.stack }
            : String(e)
        })(e)),
        this
      )
    }
    clean() {
      return (this.data = {}), this
    }
    send(e, t = 'ERROR') {
      fetch(`${this.getSendUrl(e, t)}`, { method: 'GET', cache: 'no-cache' })
        .then(() => !0)
        .catch(() => !1)
    }
    getLogRequestData(e, t) {
      return { app: this.app, type: t, event: e, data: l({}, this.data) }
    }
    getSendUrl(e, t) {
      return `${this.apiUrl}?${Ee(this.getLogRequestData(e, t))}`
    }
  }
  const Ae = 'frontend-error'
  function Te() {
    const e = new xe('SAD', `${ae}${Ae}`),
      t = (function () {
        try {
          return {
            tg_id: String(X().id),
            tg_platform: Y().platform,
            platform: window.navigator.platform,
            userAgent: window.navigator.userAgent,
            origin: window.location.origin,
            top_domain: pe(),
          }
        } catch (e) {
          return null
        }
      })()
    return t && e.add('environment', t), e
  }
  function Pe(e, t) {
    return u(this, null, function* () {
      const n = Te()
      n.add('blockId', e)
        .add('isForceCampaign', Boolean(t))
        .add('campaignId', Number(t))
      try {
        const r = (function (e, t) {
            var n, r, i, a
            const o = Te()
            o.add('blockId', e).add('campaignId', t)
            try {
              const { initData: s, platform: l } = Y(() => {
                  o.send('NoUserData', 'WARN')
                }),
                { user: c, chat: d } = s
              return {
                blockId: e,
                forceCampaignId: t,
                tg_id: String(c.id),
                tg_platform: l,
                platform: window.navigator.platform,
                language:
                  null != (n = null == c ? void 0 : c.languageCode)
                    ? n
                    : window.navigator.language,
                is_premium: null == c ? void 0 : c.isPremium,
                chat_type: null == s ? void 0 : s.chatType,
                chat_instance: null == s ? void 0 : s.chatInstance,
                attach_chat_type: null == d ? void 0 : d.type,
                attach_chat_id: (null == d ? void 0 : d.id)
                  ? String(null == d ? void 0 : d.id)
                  : void 0,
                receiver_id: (
                  null == (r = null == s ? void 0 : s.receiver) ? void 0 : r.id
                )
                  ? String(
                      null == (i = null == s ? void 0 : s.receiver)
                        ? void 0
                        : i.id
                    )
                  : void 0,
                receiver_is_bot: null == (a = s.receiver) ? void 0 : a.isBot,
                top_domain: pe(),
              }
            } catch (s) {
              throw (
                (o.addError(s).send('CannotGetRequestData'),
                new ye({ message: 'Cannot get request data.' }))
              )
            }
          })(e, t),
          i = yield fetch(
            `${ae}adv?${((e) => {
              const t = {}
              for (const [n, r] of Object.entries(e))
                'object' == typeof r && null !== r
                  ? (t[n] = JSON.stringify(r))
                  : null != r && '' !== r && (t[n] = String(r))
              return new URLSearchParams(t)
            })(r)}`,
            {
              method: 'GET',
              cache: 'no-cache',
              referrerPolicy: 'strict-origin-when-cross-origin',
            }
          )
        if (i.ok) return yield i.json()
        switch ((yield i.json()).error) {
          case 'Wrong referer':
            throw (
              (n.send('WrongReferer', 'WARN'),
              new ye({
                message: `Platform App url for blockId = ${e} not equal to ${window.location.origin}\nCreate new platform with app url ${window.location.origin} and new blockId for this platform.`,
              }))
            )
          case 'Need to use active blockid':
            throw (
              (n.send('BlockNotActive', 'WARN'),
              new ye({
                message: `Block ${e} is not active.\nChange status to active on https://partner.adsgram.ai/units/${e}/\nIf block has moderation status see https://docs.adsgram.ai/publisher/get-block-id#moderation`,
              }))
            )
          case 'Not found this id':
            throw (
              (n.send('BlockNotFound', 'WARN'),
              new ye({
                message: `BlockId = ${e} is not found. Make sure that this is your blockId https://partner.adsgram.ai/units/${e}/`,
              }))
            )
          case 'Need to specify blockid':
            throw (
              (n.send('NotPassBlock', 'WARN'),
              new ye({ message: "You don't pass blockId to Init function" }))
            )
        }
      } catch (r) {
        throw (
          (r instanceof we
            ? n.addError(r).send('APIFetchBannerData')
            : r instanceof ye ||
              n.addError(r).send('UnknownFetchBannerDataError'),
          r)
        )
      }
    })
  }
  var Ce,
    Ne,
    Se,
    Re,
    Ie,
    Ve,
    Le,
    Oe,
    Ue = {},
    De = [],
    Fe = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,
    Be = Array.isArray
  function Me(e, t) {
    for (var n in t) e[n] = t[n]
    return e
  }
  function je(e) {
    var t = e.parentNode
    t && t.removeChild(e)
  }
  function We(e, t, n) {
    var r,
      i,
      a,
      o = {}
    for (a in t)
      'key' == a ? (r = t[a]) : 'ref' == a ? (i = t[a]) : (o[a] = t[a])
    if (
      (arguments.length > 2 &&
        (o.children = arguments.length > 3 ? Ce.call(arguments, 2) : n),
      'function' == typeof e && null != e.defaultProps)
    )
      for (a in e.defaultProps) void 0 === o[a] && (o[a] = e.defaultProps[a])
    return $e(e, o, r, i, null)
  }
  function $e(e, t, n, r, i) {
    var a = {
      type: e,
      props: t,
      key: n,
      ref: r,
      __k: null,
      __: null,
      __b: 0,
      __e: null,
      __d: void 0,
      __c: null,
      constructor: void 0,
      __v: null == i ? ++Se : i,
      __i: -1,
      __u: 0,
    }
    return null == i && null != Ne.vnode && Ne.vnode(a), a
  }
  function He(e) {
    return e.children
  }
  function ze(e, t) {
    ;(this.props = e), (this.context = t)
  }
  function qe(e, t) {
    if (null == t) return e.__ ? qe(e.__, e.__i + 1) : null
    for (var n; t < e.__k.length; t++)
      if (null != (n = e.__k[t]) && null != n.__e) return n.__e
    return 'function' == typeof e.type ? qe(e) : null
  }
  function Ze(e) {
    var t, n
    if (null != (e = e.__) && null != e.__c) {
      for (e.__e = e.__c.base = null, t = 0; t < e.__k.length; t++)
        if (null != (n = e.__k[t]) && null != n.__e) {
          e.__e = e.__c.base = n.__e
          break
        }
      return Ze(e)
    }
  }
  function Ge(e) {
    ;((!e.__d && (e.__d = !0) && Re.push(e) && !Je.__r++) ||
      Ie !== Ne.debounceRendering) &&
      ((Ie = Ne.debounceRendering) || Ve)(Je)
  }
  function Je() {
    var e, t, n, r, i, a, o, s, l
    for (Re.sort(Le); (e = Re.shift()); )
      e.__d &&
        ((t = Re.length),
        (r = void 0),
        (a = (i = (n = e).__v).__e),
        (s = []),
        (l = []),
        (o = n.__P) &&
          (((r = Me({}, i)).__v = i.__v + 1),
          Ne.vnode && Ne.vnode(r),
          it(
            o,
            r,
            i,
            n.__n,
            void 0 !== o.ownerSVGElement,
            32 & i.__u ? [a] : null,
            s,
            null == a ? qe(i) : a,
            !!(32 & i.__u),
            l
          ),
          (r.__.__k[r.__i] = r),
          at(s, r, l),
          r.__e != a && Ze(r)),
        Re.length > t && Re.sort(Le))
    Je.__r = 0
  }
  function Ye(e, t, n, r, i, a, o, s, l, c, d) {
    var u,
      p,
      h,
      _,
      m,
      f = (r && r.__k) || De,
      g = t.length
    for (
      n.__d = l,
        (function (e, t, n) {
          var r,
            i,
            a,
            o,
            s,
            l = t.length,
            c = n.length,
            d = c,
            u = 0
          for (e.__k = [], r = 0; r < l; r++)
            null !=
            (i = e.__k[r] =
              null == (i = t[r]) ||
              'boolean' == typeof i ||
              'function' == typeof i
                ? null
                : 'string' == typeof i ||
                    'number' == typeof i ||
                    'bigint' == typeof i ||
                    i.constructor == String
                  ? $e(null, i, null, null, i)
                  : Be(i)
                    ? $e(He, { children: i }, null, null, null)
                    : void 0 === i.constructor && i.__b > 0
                      ? $e(i.type, i.props, i.key, i.ref ? i.ref : null, i.__v)
                      : i)
              ? ((i.__ = e),
                (i.__b = e.__b + 1),
                (s = Qe(i, n, (o = r + u), d)),
                (i.__i = s),
                (a = null),
                -1 !== s && (d--, (a = n[s]) && (a.__u |= 131072)),
                null == a || null === a.__v
                  ? (-1 == s && u--,
                    'function' != typeof i.type && (i.__u |= 65536))
                  : s !== o &&
                    (s === o + 1
                      ? u++
                      : s > o
                        ? d > l - o
                          ? (u += s - o)
                          : u--
                        : (u = s < o && s == o - 1 ? s - o : 0),
                    s !== r + u && (i.__u |= 65536)))
              : (a = n[r]) &&
                null == a.key &&
                a.__e &&
                (a.__e == e.__d && (e.__d = qe(a)),
                st(a, a, !1),
                (n[r] = null),
                d--)
          if (d)
            for (r = 0; r < c; r++)
              null != (a = n[r]) &&
                0 == (131072 & a.__u) &&
                (a.__e == e.__d && (e.__d = qe(a)), st(a, a))
        })(n, t, f),
        l = n.__d,
        u = 0;
      u < g;
      u++
    )
      null != (h = n.__k[u]) &&
        'boolean' != typeof h &&
        'function' != typeof h &&
        ((p = -1 === h.__i ? Ue : f[h.__i] || Ue),
        (h.__i = u),
        it(e, h, p, i, a, o, s, l, c, d),
        (_ = h.__e),
        h.ref &&
          p.ref != h.ref &&
          (p.ref && ot(p.ref, null, h), d.push(h.ref, h.__c || _, h)),
        null == m && null != _ && (m = _),
        65536 & h.__u || p.__k === h.__k
          ? (l = Xe(h, l, e))
          : 'function' == typeof h.type && void 0 !== h.__d
            ? (l = h.__d)
            : _ && (l = _.nextSibling),
        (h.__d = void 0),
        (h.__u &= -196609))
    ;(n.__d = l), (n.__e = m)
  }
  function Xe(e, t, n) {
    var r, i
    if ('function' == typeof e.type) {
      for (r = e.__k, i = 0; r && i < r.length; i++)
        r[i] && ((r[i].__ = e), (t = Xe(r[i], t, n)))
      return t
    }
    return (
      e.__e != t && (n.insertBefore(e.__e, t || null), (t = e.__e)),
      t && t.nextSibling
    )
  }
  function Ke(e, t) {
    return (
      (t = t || []),
      null == e ||
        'boolean' == typeof e ||
        (Be(e)
          ? e.some(function (e) {
              Ke(e, t)
            })
          : t.push(e)),
      t
    )
  }
  function Qe(e, t, n, r) {
    var i = e.key,
      a = e.type,
      o = n - 1,
      s = n + 1,
      l = t[n]
    if (null === l || (l && i == l.key && a === l.type)) return n
    if (r > (null != l && 0 == (131072 & l.__u) ? 1 : 0))
      for (; o >= 0 || s < t.length; ) {
        if (o >= 0) {
          if ((l = t[o]) && 0 == (131072 & l.__u) && i == l.key && a === l.type)
            return o
          o--
        }
        if (s < t.length) {
          if ((l = t[s]) && 0 == (131072 & l.__u) && i == l.key && a === l.type)
            return s
          s++
        }
      }
    return -1
  }
  function et(e, t, n) {
    '-' === t[0]
      ? e.setProperty(t, null == n ? '' : n)
      : (e[t] =
          null == n ? '' : 'number' != typeof n || Fe.test(t) ? n : n + 'px')
  }
  function tt(e, t, n, r, i) {
    var a
    e: if ('style' === t)
      if ('string' == typeof n) e.style.cssText = n
      else {
        if (('string' == typeof r && (e.style.cssText = r = ''), r))
          for (t in r) (n && t in n) || et(e.style, t, '')
        if (n) for (t in n) (r && n[t] === r[t]) || et(e.style, t, n[t])
      }
    else if ('o' === t[0] && 'n' === t[1])
      (a = t !== (t = t.replace(/(PointerCapture)$|Capture$/, '$1'))),
        (t = t.toLowerCase() in e ? t.toLowerCase().slice(2) : t.slice(2)),
        e.l || (e.l = {}),
        (e.l[t + a] = n),
        n
          ? r
            ? (n.u = r.u)
            : ((n.u = Date.now()), e.addEventListener(t, a ? rt : nt, a))
          : e.removeEventListener(t, a ? rt : nt, a)
    else {
      if (i) t = t.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's')
      else if (
        'width' !== t &&
        'height' !== t &&
        'href' !== t &&
        'list' !== t &&
        'form' !== t &&
        'tabIndex' !== t &&
        'download' !== t &&
        'rowSpan' !== t &&
        'colSpan' !== t &&
        'role' !== t &&
        t in e
      )
        try {
          e[t] = null == n ? '' : n
          break e
        } catch (o) {}
      'function' == typeof n ||
        (null == n || (!1 === n && '-' !== t[4])
          ? e.removeAttribute(t)
          : e.setAttribute(t, n))
    }
  }
  function nt(e) {
    var t = this.l[e.type + !1]
    if (e.t) {
      if (e.t <= t.u) return
    } else e.t = Date.now()
    return t(Ne.event ? Ne.event(e) : e)
  }
  function rt(e) {
    return this.l[e.type + !0](Ne.event ? Ne.event(e) : e)
  }
  function it(e, t, n, r, i, a, o, s, l, c) {
    var d,
      u,
      p,
      h,
      _,
      m,
      f,
      g,
      v,
      b,
      y,
      w,
      k,
      E,
      x,
      A = t.type
    if (void 0 !== t.constructor) return null
    128 & n.__u && ((l = !!(32 & n.__u)), (a = [(s = t.__e = n.__e)])),
      (d = Ne.__b) && d(t)
    e: if ('function' == typeof A)
      try {
        if (
          ((g = t.props),
          (v = (d = A.contextType) && r[d.__c]),
          (b = d ? (v ? v.props.value : d.__) : r),
          n.__c
            ? (f = (u = t.__c = n.__c).__ = u.__E)
            : ('prototype' in A && A.prototype.render
                ? (t.__c = u = new A(g, b))
                : ((t.__c = u = new ze(g, b)),
                  (u.constructor = A),
                  (u.render = lt)),
              v && v.sub(u),
              (u.props = g),
              u.state || (u.state = {}),
              (u.context = b),
              (u.__n = r),
              (p = u.__d = !0),
              (u.__h = []),
              (u._sb = [])),
          null == u.__s && (u.__s = u.state),
          null != A.getDerivedStateFromProps &&
            (u.__s == u.state && (u.__s = Me({}, u.__s)),
            Me(u.__s, A.getDerivedStateFromProps(g, u.__s))),
          (h = u.props),
          (_ = u.state),
          (u.__v = t),
          p)
        )
          null == A.getDerivedStateFromProps &&
            null != u.componentWillMount &&
            u.componentWillMount(),
            null != u.componentDidMount && u.__h.push(u.componentDidMount)
        else {
          if (
            (null == A.getDerivedStateFromProps &&
              g !== h &&
              null != u.componentWillReceiveProps &&
              u.componentWillReceiveProps(g, b),
            !u.__e &&
              ((null != u.shouldComponentUpdate &&
                !1 === u.shouldComponentUpdate(g, u.__s, b)) ||
                t.__v === n.__v))
          ) {
            for (
              t.__v !== n.__v &&
                ((u.props = g), (u.state = u.__s), (u.__d = !1)),
                t.__e = n.__e,
                t.__k = n.__k,
                t.__k.forEach(function (e) {
                  e && (e.__ = t)
                }),
                y = 0;
              y < u._sb.length;
              y++
            )
              u.__h.push(u._sb[y])
            ;(u._sb = []), u.__h.length && o.push(u)
            break e
          }
          null != u.componentWillUpdate && u.componentWillUpdate(g, u.__s, b),
            null != u.componentDidUpdate &&
              u.__h.push(function () {
                u.componentDidUpdate(h, _, m)
              })
        }
        if (
          ((u.context = b),
          (u.props = g),
          (u.__P = e),
          (u.__e = !1),
          (w = Ne.__r),
          (k = 0),
          'prototype' in A && A.prototype.render)
        ) {
          for (
            u.state = u.__s,
              u.__d = !1,
              w && w(t),
              d = u.render(u.props, u.state, u.context),
              E = 0;
            E < u._sb.length;
            E++
          )
            u.__h.push(u._sb[E])
          u._sb = []
        } else
          do {
            ;(u.__d = !1),
              w && w(t),
              (d = u.render(u.props, u.state, u.context)),
              (u.state = u.__s)
          } while (u.__d && ++k < 25)
        ;(u.state = u.__s),
          null != u.getChildContext && (r = Me(Me({}, r), u.getChildContext())),
          p ||
            null == u.getSnapshotBeforeUpdate ||
            (m = u.getSnapshotBeforeUpdate(h, _)),
          Ye(
            e,
            Be(
              (x =
                null != d && d.type === He && null == d.key
                  ? d.props.children
                  : d)
            )
              ? x
              : [x],
            t,
            n,
            r,
            i,
            a,
            o,
            s,
            l,
            c
          ),
          (u.base = t.__e),
          (t.__u &= -161),
          u.__h.length && o.push(u),
          f && (u.__E = u.__ = null)
      } catch (T) {
        ;(t.__v = null),
          l || null != a
            ? ((t.__e = s), (t.__u |= l ? 160 : 32), (a[a.indexOf(s)] = null))
            : ((t.__e = n.__e), (t.__k = n.__k)),
          Ne.__e(T, t, n)
      }
    else
      null == a && t.__v === n.__v
        ? ((t.__k = n.__k), (t.__e = n.__e))
        : (t.__e = (function (e, t, n, r, i, a, o, s, l) {
            var c,
              d,
              u,
              p,
              h,
              _,
              m,
              f = n.props,
              g = t.props,
              v = t.type
            if (('svg' === v && (i = !0), null != a))
              for (c = 0; c < a.length; c++)
                if (
                  (h = a[c]) &&
                  'setAttribute' in h == !!v &&
                  (v ? h.localName === v : 3 === h.nodeType)
                ) {
                  ;(e = h), (a[c] = null)
                  break
                }
            if (null == e) {
              if (null === v) return document.createTextNode(g)
              ;(e = i
                ? document.createElementNS('http://www.w3.org/2000/svg', v)
                : document.createElement(v, g.is && g)),
                (a = null),
                (s = !1)
            }
            if (null === v) f === g || (s && e.data === g) || (e.data = g)
            else {
              if (
                ((a = a && Ce.call(e.childNodes)),
                (f = n.props || Ue),
                !s && null != a)
              )
                for (f = {}, c = 0; c < e.attributes.length; c++)
                  f[(h = e.attributes[c]).name] = h.value
              for (c in f)
                (h = f[c]),
                  'children' == c ||
                    ('dangerouslySetInnerHTML' == c
                      ? (u = h)
                      : 'key' === c || c in g || tt(e, c, null, h, i))
              for (c in g)
                (h = g[c]),
                  'children' == c
                    ? (p = h)
                    : 'dangerouslySetInnerHTML' == c
                      ? (d = h)
                      : 'value' == c
                        ? (_ = h)
                        : 'checked' == c
                          ? (m = h)
                          : 'key' === c ||
                            (s && 'function' != typeof h) ||
                            f[c] === h ||
                            tt(e, c, h, f[c], i)
              if (d)
                s ||
                  (u && (d.__html === u.__html || d.__html === e.innerHTML)) ||
                  (e.innerHTML = d.__html),
                  (t.__k = [])
              else if (
                (u && (e.innerHTML = ''),
                Ye(
                  e,
                  Be(p) ? p : [p],
                  t,
                  n,
                  r,
                  i && 'foreignObject' !== v,
                  a,
                  o,
                  a ? a[0] : n.__k && qe(n, 0),
                  s,
                  l
                ),
                null != a)
              )
                for (c = a.length; c--; ) null != a[c] && je(a[c])
              s ||
                ((c = 'value'),
                void 0 !== _ &&
                  (_ !== e[c] ||
                    ('progress' === v && !_) ||
                    ('option' === v && _ !== f[c])) &&
                  tt(e, c, _, f[c], !1),
                (c = 'checked'),
                void 0 !== m && m !== e[c] && tt(e, c, m, f[c], !1))
            }
            return e
          })(n.__e, t, n, r, i, a, o, l, c))
    ;(d = Ne.diffed) && d(t)
  }
  function at(e, t, n) {
    t.__d = void 0
    for (var r = 0; r < n.length; r++) ot(n[r], n[++r], n[++r])
    Ne.__c && Ne.__c(t, e),
      e.some(function (t) {
        try {
          ;(e = t.__h),
            (t.__h = []),
            e.some(function (e) {
              e.call(t)
            })
        } catch (n) {
          Ne.__e(n, t.__v)
        }
      })
  }
  function ot(e, t, n) {
    try {
      'function' == typeof e ? e(t) : (e.current = t)
    } catch (r) {
      Ne.__e(r, n)
    }
  }
  function st(e, t, n) {
    var r, i
    if (
      (Ne.unmount && Ne.unmount(e),
      (r = e.ref) && ((r.current && r.current !== e.__e) || ot(r, null, t)),
      null != (r = e.__c))
    ) {
      if (r.componentWillUnmount)
        try {
          r.componentWillUnmount()
        } catch (a) {
          Ne.__e(a, t)
        }
      ;(r.base = r.__P = null), (e.__c = void 0)
    }
    if ((r = e.__k))
      for (i = 0; i < r.length; i++)
        r[i] && st(r[i], t, n || 'function' != typeof e.type)
    n || null == e.__e || je(e.__e), (e.__ = e.__e = e.__d = void 0)
  }
  function lt(e, t, n) {
    return this.constructor(e, n)
  }
  function ct(e, t, n) {
    var r, i, a, o
    Ne.__ && Ne.__(e, t),
      (i = (r = 'function' == typeof n) ? null : (n && n.__k) || t.__k),
      (a = []),
      (o = []),
      it(
        t,
        (e = ((!r && n) || t).__k = We(He, null, [e])),
        i || Ue,
        Ue,
        void 0 !== t.ownerSVGElement,
        !r && n ? [n] : i ? null : t.firstChild ? Ce.call(t.childNodes) : null,
        a,
        !r && n ? n : i ? i.__e : t.firstChild,
        r,
        o
      ),
      at(a, e, o)
  }
  function dt(e, t) {
    var n = {
      __c: (t = '__cC' + Oe++),
      __: e,
      Consumer: function (e, t) {
        return e.children(t)
      },
      Provider: function (e) {
        var n, r
        return (
          this.getChildContext ||
            ((n = []),
            ((r = {})[t] = this),
            (this.getChildContext = function () {
              return r
            }),
            (this.shouldComponentUpdate = function (e) {
              this.props.value !== e.value &&
                n.some(function (e) {
                  ;(e.__e = !0), Ge(e)
                })
            }),
            (this.sub = function (e) {
              n.push(e)
              var t = e.componentWillUnmount
              e.componentWillUnmount = function () {
                n.splice(n.indexOf(e), 1), t && t.call(e)
              }
            })),
          e.children
        )
      },
    }
    return (n.Provider.__ = n.Consumer.contextType = n)
  }
  ;(Ce = De.slice),
    (Ne = {
      __e: function (e, t, n, r) {
        for (var i, a, o; (t = t.__); )
          if ((i = t.__c) && !i.__)
            try {
              if (
                ((a = i.constructor) &&
                  null != a.getDerivedStateFromError &&
                  (i.setState(a.getDerivedStateFromError(e)), (o = i.__d)),
                null != i.componentDidCatch &&
                  (i.componentDidCatch(e, r || {}), (o = i.__d)),
                o)
              )
                return (i.__E = i)
            } catch (s) {
              e = s
            }
        throw e
      },
    }),
    (Se = 0),
    (ze.prototype.setState = function (e, t) {
      var n
      ;(n =
        null != this.__s && this.__s !== this.state
          ? this.__s
          : (this.__s = Me({}, this.state))),
        'function' == typeof e && (e = e(Me({}, n), this.props)),
        e && Me(n, e),
        null != e && this.__v && (t && this._sb.push(t), Ge(this))
    }),
    (ze.prototype.forceUpdate = function (e) {
      this.__v && ((this.__e = !0), e && this.__h.push(e), Ge(this))
    }),
    (ze.prototype.render = He),
    (Re = []),
    (Ve =
      'function' == typeof Promise
        ? Promise.prototype.then.bind(Promise.resolve())
        : setTimeout),
    (Le = function (e, t) {
      return e.__v.__b - t.__v.__b
    }),
    (Je.__r = 0),
    (Oe = 0)
  const ut = new Set(['RewardedVideo', 'FullscreenMedia'])
  const pt = {
      show: 'show',
      load: 'load',
      preload: 'preload',
      destroy: 'destroy',
      finalDestroy: 'finalDestroy',
      error: 'error',
      renderError: 'renderError',
      pause: 'pause',
      play: 'play',
      leave: 'leave',
      return: 'return',
    },
    ht = {
      onReward: 'onReward',
      onStart: 'onStart',
      onSkip: 'onSkip',
      onBannerNotFound: 'onBannerNotFound',
      onError: 'onError',
      onComplete: 'onComplete',
    },
    _t = l(l(l({}, pt), ht), { replay: 'replay' })
  function mt({ data: e, EventEmitter: t }) {
    const n = (function (e) {
      return ut.has(e.bannerType)
    })(e)
    if (n) {
      const e = document.body.style.overflow
      document.body.style.overflow = 'hidden'
      try {
        ge(ve())('web_app_expand')
      } catch (r) {}
      t.on(pt.finalDestroy, () => {
        document.body.style.overflow = e
      })
    }
    !(function (e) {
      let t = !1
      const n = () => {
          t = !0
        },
        r = () => {
          t = !1
        },
        i = () => {
          'visible' === document.visibilityState && t && e.emit('return'),
            'hidden' !== document.visibilityState || t || e.emit('leave')
        },
        a = () => {
          t && e.emit('return')
        }
      e.on('leave', n),
        e.on('return', r),
        window.addEventListener('visibilitychange', i),
        window.addEventListener('focus', a),
        window.addEventListener('click', a),
        e.on('finalDestroy', () => {
          window.removeEventListener('visibilitychange', i),
            window.removeEventListener('focus', a),
            window.removeEventListener('click', a),
            e.off('leave', n),
            e.off('return', r)
        })
    })(t)
  }
  function ft(e) {
    return e &&
      e.__esModule &&
      Object.prototype.hasOwnProperty.call(e, 'default')
      ? e.default
      : e
  }
  var gt,
    vt = { exports: {} }
  ;(gt = vt),
    (function () {
      var e = {}.hasOwnProperty
      function t() {
        for (var e = '', t = 0; t < arguments.length; t++) {
          var i = arguments[t]
          i && (e = r(e, n(i)))
        }
        return e
      }
      function n(n) {
        if ('string' == typeof n || 'number' == typeof n) return n
        if ('object' != typeof n) return ''
        if (Array.isArray(n)) return t.apply(null, n)
        if (
          n.toString !== Object.prototype.toString &&
          !n.toString.toString().includes('[native code]')
        )
          return n.toString()
        var i = ''
        for (var a in n) e.call(n, a) && n[a] && (i = r(i, a))
        return i
      }
      function r(e, t) {
        return t ? (e ? e + ' ' + t : e + t) : e
      }
      gt.exports ? ((t.default = t), (gt.exports = t)) : (window.classNames = t)
    })()
  const bt = ft(vt.exports),
    yt = 15,
    wt = 30,
    kt = '_banner_7zy2f_1',
    Et = '_wrapper_7zy2f_33',
    xt = dt(void 0)
  var At,
    Tt,
    Pt,
    Ct,
    Nt = 0,
    St = [],
    Rt = [],
    It = Ne.__b,
    Vt = Ne.__r,
    Lt = Ne.diffed,
    Ot = Ne.__c,
    Ut = Ne.unmount
  function Dt(e, t) {
    Ne.__h && Ne.__h(Tt, e, Nt || t), (Nt = 0)
    var n = Tt.__H || (Tt.__H = { __: [], __h: [] })
    return e >= n.__.length && n.__.push({ __V: Rt }), n.__[e]
  }
  function Ft(e) {
    return (
      (Nt = 1),
      (function (e, t, n) {
        var r = Dt(At++, 2)
        if (
          ((r.t = e),
          !r.__c &&
            ((r.__ = [
              n ? n(t) : Yt(void 0, t),
              function (e) {
                var t = r.__N ? r.__N[0] : r.__[0],
                  n = r.t(t, e)
                t !== n && ((r.__N = [n, r.__[1]]), r.__c.setState({}))
              },
            ]),
            (r.__c = Tt),
            !Tt.u))
        ) {
          var i = function (e, t, n) {
            if (!r.__c.__H) return !0
            var i = r.__c.__H.__.filter(function (e) {
              return e.__c
            })
            if (
              i.every(function (e) {
                return !e.__N
              })
            )
              return !a || a.call(this, e, t, n)
            var o = !1
            return (
              i.forEach(function (e) {
                if (e.__N) {
                  var t = e.__[0]
                  ;(e.__ = e.__N), (e.__N = void 0), t !== e.__[0] && (o = !0)
                }
              }),
              !(!o && r.__c.props === e) && (!a || a.call(this, e, t, n))
            )
          }
          Tt.u = !0
          var a = Tt.shouldComponentUpdate,
            o = Tt.componentWillUpdate
          ;(Tt.componentWillUpdate = function (e, t, n) {
            if (this.__e) {
              var r = a
              ;(a = void 0), i(e, t, n), (a = r)
            }
            o && o.call(this, e, t, n)
          }),
            (Tt.shouldComponentUpdate = i)
        }
        return r.__N || r.__
      })(Yt, e)
    )
  }
  function Bt(e, t) {
    var n = Dt(At++, 3)
    !Ne.__s && Jt(n.__H, t) && ((n.__ = e), (n.i = t), Tt.__H.__h.push(n))
  }
  function Mt(e) {
    return (
      (Nt = 5),
      jt(function () {
        return { current: e }
      }, [])
    )
  }
  function jt(e, t) {
    var n = Dt(At++, 7)
    return Jt(n.__H, t) ? ((n.__V = e()), (n.i = t), (n.__h = e), n.__V) : n.__
  }
  function Wt(e, t) {
    return (
      (Nt = 8),
      jt(function () {
        return e
      }, t)
    )
  }
  function $t(e) {
    var t = Tt.context[e.__c],
      n = Dt(At++, 9)
    return (
      (n.c = e),
      t ? (null == n.__ && ((n.__ = !0), t.sub(Tt)), t.props.value) : e.__
    )
  }
  function Ht() {
    for (var e; (e = St.shift()); )
      if (e.__P && e.__H)
        try {
          e.__H.__h.forEach(Zt), e.__H.__h.forEach(Gt), (e.__H.__h = [])
        } catch (t) {
          ;(e.__H.__h = []), Ne.__e(t, e.__v)
        }
  }
  ;(Ne.__b = function (e) {
    ;(Tt = null), It && It(e)
  }),
    (Ne.__r = function (e) {
      Vt && Vt(e), (At = 0)
      var t = (Tt = e.__c).__H
      t &&
        (Pt === Tt
          ? ((t.__h = []),
            (Tt.__h = []),
            t.__.forEach(function (e) {
              e.__N && (e.__ = e.__N), (e.__V = Rt), (e.__N = e.i = void 0)
            }))
          : (t.__h.forEach(Zt), t.__h.forEach(Gt), (t.__h = []), (At = 0))),
        (Pt = Tt)
    }),
    (Ne.diffed = function (e) {
      Lt && Lt(e)
      var t = e.__c
      t &&
        t.__H &&
        (t.__H.__h.length &&
          ((1 !== St.push(t) && Ct === Ne.requestAnimationFrame) ||
            ((Ct = Ne.requestAnimationFrame) || qt)(Ht)),
        t.__H.__.forEach(function (e) {
          e.i && (e.__H = e.i),
            e.__V !== Rt && (e.__ = e.__V),
            (e.i = void 0),
            (e.__V = Rt)
        })),
        (Pt = Tt = null)
    }),
    (Ne.__c = function (e, t) {
      t.some(function (e) {
        try {
          e.__h.forEach(Zt),
            (e.__h = e.__h.filter(function (e) {
              return !e.__ || Gt(e)
            }))
        } catch (n) {
          t.some(function (e) {
            e.__h && (e.__h = [])
          }),
            (t = []),
            Ne.__e(n, e.__v)
        }
      }),
        Ot && Ot(e, t)
    }),
    (Ne.unmount = function (e) {
      Ut && Ut(e)
      var t,
        n = e.__c
      n &&
        n.__H &&
        (n.__H.__.forEach(function (e) {
          try {
            Zt(e)
          } catch (n) {
            t = n
          }
        }),
        (n.__H = void 0),
        t && Ne.__e(t, n.__v))
    })
  var zt = 'function' == typeof requestAnimationFrame
  function qt(e) {
    var t,
      n = function () {
        clearTimeout(r), zt && cancelAnimationFrame(t), setTimeout(e)
      },
      r = setTimeout(n, 100)
    zt && (t = requestAnimationFrame(n))
  }
  function Zt(e) {
    var t = Tt,
      n = e.__c
    'function' == typeof n && ((e.__c = void 0), n()), (Tt = t)
  }
  function Gt(e) {
    var t = Tt
    ;(e.__c = e.__()), (Tt = t)
  }
  function Jt(e, t) {
    return (
      !e ||
      e.length !== t.length ||
      t.some(function (t, n) {
        return t !== e[n]
      })
    )
  }
  function Yt(e, t) {
    return 'function' == typeof t ? t(e) : t
  }
  function Xt(e, t) {
    for (var n in e) if ('__source' !== n && !(n in t)) return !0
    for (var r in t) if ('__source' !== r && e[r] !== t[r]) return !0
    return !1
  }
  function Kt(e) {
    this.props = e
  }
  ;((Kt.prototype = new ze()).isPureReactComponent = !0),
    (Kt.prototype.shouldComponentUpdate = function (e, t) {
      return Xt(this.props, e) || Xt(this.state, t)
    })
  var Qt = Ne.__b
  Ne.__b = function (e) {
    e.type && e.type.__f && e.ref && ((e.props.ref = e.ref), (e.ref = null)),
      Qt && Qt(e)
  }
  var en = Ne.__e
  Ne.__e = function (e, t, n, r) {
    if (e.then)
      for (var i, a = t; (a = a.__); )
        if ((i = a.__c) && i.__c)
          return (
            null == t.__e && ((t.__e = n.__e), (t.__k = n.__k)), i.__c(e, t)
          )
    en(e, t, n, r)
  }
  var tn = Ne.unmount
  function nn(e, t, n) {
    return (
      e &&
        (e.__c &&
          e.__c.__H &&
          (e.__c.__H.__.forEach(function (e) {
            'function' == typeof e.__c && e.__c()
          }),
          (e.__c.__H = null)),
        null !=
          (e = (function (e, t) {
            for (var n in t) e[n] = t[n]
            return e
          })({}, e)).__c &&
          (e.__c.__P === n && (e.__c.__P = t), (e.__c = null)),
        (e.__k =
          e.__k &&
          e.__k.map(function (e) {
            return nn(e, t, n)
          }))),
      e
    )
  }
  function rn(e, t, n) {
    return (
      e &&
        n &&
        ((e.__v = null),
        (e.__k =
          e.__k &&
          e.__k.map(function (e) {
            return rn(e, t, n)
          })),
        e.__c &&
          e.__c.__P === t &&
          (e.__e && n.appendChild(e.__e), (e.__c.__e = !0), (e.__c.__P = n))),
      e
    )
  }
  function an() {
    ;(this.__u = 0), (this.t = null), (this.__b = null)
  }
  function on(e) {
    var t = e.__.__c
    return t && t.__a && t.__a(e)
  }
  function sn() {
    ;(this.u = null), (this.o = null)
  }
  ;(Ne.unmount = function (e) {
    var t = e.__c
    t && t.__R && t.__R(), t && 32 & e.__u && (e.type = null), tn && tn(e)
  }),
    ((an.prototype = new ze()).__c = function (e, t) {
      var n = t.__c,
        r = this
      null == r.t && (r.t = []), r.t.push(n)
      var i = on(r.__v),
        a = !1,
        o = function () {
          a || ((a = !0), (n.__R = null), i ? i(s) : s())
        }
      n.__R = o
      var s = function () {
        if (!--r.__u) {
          if (r.state.__a) {
            var e = r.state.__a
            r.__v.__k[0] = rn(e, e.__c.__P, e.__c.__O)
          }
          var t
          for (r.setState({ __a: (r.__b = null) }); (t = r.t.pop()); )
            t.forceUpdate()
        }
      }
      r.__u++ || 32 & t.__u || r.setState({ __a: (r.__b = r.__v.__k[0]) }),
        e.then(o, o)
    }),
    (an.prototype.componentWillUnmount = function () {
      this.t = []
    }),
    (an.prototype.render = function (e, t) {
      if (this.__b) {
        if (this.__v.__k) {
          var n = document.createElement('div'),
            r = this.__v.__k[0].__c
          this.__v.__k[0] = nn(this.__b, n, (r.__O = r.__P))
        }
        this.__b = null
      }
      var i = t.__a && We(He, null, e.fallback)
      return i && (i.__u &= -33), [We(He, null, t.__a ? null : e.children), i]
    })
  var ln = function (e, t, n) {
    if (
      (++n[1] === n[0] && e.o.delete(t),
      e.props.revealOrder && ('t' !== e.props.revealOrder[0] || !e.o.size))
    )
      for (n = e.u; n; ) {
        for (; n.length > 3; ) n.pop()()
        if (n[1] < n[0]) break
        e.u = n = n[2]
      }
  }
  ;((sn.prototype = new ze()).__a = function (e) {
    var t = this,
      n = on(t.__v),
      r = t.o.get(e)
    return (
      r[0]++,
      function (i) {
        var a = function () {
          t.props.revealOrder ? (r.push(i), ln(t, e, r)) : i()
        }
        n ? n(a) : a()
      }
    )
  }),
    (sn.prototype.render = function (e) {
      ;(this.u = null), (this.o = new Map())
      var t = Ke(e.children)
      e.revealOrder && 'b' === e.revealOrder[0] && t.reverse()
      for (var n = t.length; n--; ) this.o.set(t[n], (this.u = [1, 0, this.u]))
      return e.children
    }),
    (sn.prototype.componentDidUpdate = sn.prototype.componentDidMount =
      function () {
        var e = this
        this.o.forEach(function (t, n) {
          ln(e, n, t)
        })
      })
  var cn =
      ('undefined' != typeof Symbol &&
        Symbol.for &&
        Symbol.for('react.element')) ||
      60103,
    dn =
      /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,
    un = /^on(Ani|Tra|Tou|BeforeInp|Compo)/,
    pn = /[A-Z0-9]/g,
    hn = 'undefined' != typeof document,
    _n = function (e) {
      return (
        'undefined' != typeof Symbol && 'symbol' == typeof Symbol()
          ? /fil|che|rad/
          : /fil|che|ra/
      ).test(e)
    }
  ;(ze.prototype.isReactComponent = {}),
    [
      'componentWillMount',
      'componentWillReceiveProps',
      'componentWillUpdate',
    ].forEach(function (e) {
      Object.defineProperty(ze.prototype, e, {
        configurable: !0,
        get: function () {
          return this['UNSAFE_' + e]
        },
        set: function (t) {
          Object.defineProperty(this, e, {
            configurable: !0,
            writable: !0,
            value: t,
          })
        },
      })
    })
  var mn = Ne.event
  function fn() {}
  function gn() {
    return this.cancelBubble
  }
  function vn() {
    return this.defaultPrevented
  }
  Ne.event = function (e) {
    return (
      mn && (e = mn(e)),
      (e.persist = fn),
      (e.isPropagationStopped = gn),
      (e.isDefaultPrevented = vn),
      (e.nativeEvent = e)
    )
  }
  var bn = {
      enumerable: !1,
      configurable: !0,
      get: function () {
        return this.class
      },
    },
    yn = Ne.vnode
  Ne.vnode = function (e) {
    'string' == typeof e.type &&
      (function (e) {
        var t = e.props,
          n = e.type,
          r = {}
        for (var i in t) {
          var a = t[i]
          if (
            !(
              ('value' === i && 'defaultValue' in t && null == a) ||
              (hn && 'children' === i && 'noscript' === n) ||
              'class' === i ||
              'className' === i
            )
          ) {
            var o = i.toLowerCase()
            'defaultValue' === i && 'value' in t && null == t.value
              ? (i = 'value')
              : 'download' === i && !0 === a
                ? (a = '')
                : 'ondoubleclick' === o
                  ? (i = 'ondblclick')
                  : 'onchange' !== o ||
                      ('input' !== n && 'textarea' !== n) ||
                      _n(t.type)
                    ? 'onfocus' === o
                      ? (i = 'onfocusin')
                      : 'onblur' === o
                        ? (i = 'onfocusout')
                        : un.test(i)
                          ? (i = o)
                          : -1 === n.indexOf('-') && dn.test(i)
                            ? (i = i.replace(pn, '-$&').toLowerCase())
                            : null === a && (a = void 0)
                    : (o = i = 'oninput'),
              'oninput' === o && r[(i = o)] && (i = 'oninputCapture'),
              (r[i] = a)
          }
        }
        'select' == n &&
          r.multiple &&
          Array.isArray(r.value) &&
          (r.value = Ke(t.children).forEach(function (e) {
            e.props.selected = -1 != r.value.indexOf(e.props.value)
          })),
          'select' == n &&
            null != r.defaultValue &&
            (r.value = Ke(t.children).forEach(function (e) {
              e.props.selected = r.multiple
                ? -1 != r.defaultValue.indexOf(e.props.value)
                : r.defaultValue == e.props.value
            })),
          t.class && !t.className
            ? ((r.class = t.class), Object.defineProperty(r, 'className', bn))
            : ((t.className && !t.class) || (t.class && t.className)) &&
              (r.class = r.className = t.className),
          (e.props = r)
      })(e),
      (e.$$typeof = cn),
      yn && yn(e)
  }
  var wn = Ne.__r
  Ne.__r = function (e) {
    wn && wn(e), e.__c
  }
  var kn = Ne.diffed
  function En() {
    return $t(xt)
  }
  Ne.diffed = function (e) {
    kn && kn(e)
    var t = e.props,
      n = e.__e
    null != n &&
      'textarea' === e.type &&
      'value' in t &&
      t.value !== n.value &&
      (n.value = null == t.value ? '' : t.value)
  }
  class xn {
    constructor() {
      d(this, 'handlers'), (this.handlers = [])
    }
    on(e, t) {
      if ('function' != typeof t)
        throw new ye({
          message:
            'The handler argument must be of type Function. Received type ' +
            typeof t,
        })
      if (!e)
        throw new ye({
          message:
            'The event argument must be of type String. Received type ' +
            typeof e,
        })
      if (!_t[e])
        throw new ye({
          message: `The event argument must be one of ${Object.keys(_t).join(', ')}. Received ${e}`,
        })
      return this.handlers.push({ event: e, handler: t }), this
    }
    off(e, t) {
      return (
        (this.handlers = this.handlers.filter(
          (n) => n.event !== e || n.handler !== t
        )),
        this
      )
    }
    emit(e) {
      let t = !1
      for (const n of this.handlers) n.event === e && ((t = !0), n.handler())
      return t
    }
    removeAllListeners(e) {
      return e
        ? ((this.handlers = this.handlers.filter((t) => t.event !== e)), this)
        : ((this.handlers = []), this)
    }
    hasHandlers(e) {
      return this.handlers.some(({ event: t }) => t === e)
    }
  }
  const An = dt(
    new Proxy(new xn(), {
      apply() {
        console.warn('EventEmitter not initialized')
      },
      get() {
        console.warn('EventEmitter not initialized')
      },
    })
  )
  function Tn() {
    return $t(An)
  }
  const Pn = { NONSKIP_ALWAYS: !0 },
    Cn = dt(Pn)
  function Nn(e) {
    const t = $t(Cn)
    return jt(() => Boolean(t[e]), [e, t])
  }
  const Sn = dt(Te())
  function Rn() {
    return $t(Sn)
  }
  const In = dt(!1)
  function Vn() {
    return $t(In)
  }
  const Ln = {
    background: '_background_10hof_1',
    preview: '_preview_10hof_18',
    dark: '_dark_10hof_27',
    light: '_light_10hof_55',
  }
  var On = 0
  function Un(e, t, n, r, i, a) {
    var o,
      s,
      l = {}
    for (s in t) 'ref' == s ? (o = t[s]) : (l[s] = t[s])
    var c = {
      type: e,
      props: l,
      key: n,
      ref: o,
      __k: null,
      __: null,
      __b: 0,
      __e: null,
      __d: void 0,
      __c: null,
      constructor: void 0,
      __v: --On,
      __i: -1,
      __u: 0,
      __source: i,
      __self: a,
    }
    if ('function' == typeof e && (o = e.defaultProps))
      for (s in o) void 0 === l[s] && (l[s] = o[s])
    return Ne.vnode && Ne.vnode(c), c
  }
  function Dn() {
    const e = Vn()
    return Un('div', {
      className: bt(Ln.background, e ? Ln.dark : Ln.light, !1),
    })
  }
  const Fn = { label: '_label_1wd8a_1', text: '_text_1wd8a_19' },
    Bn = 'https://t.me/+NumBvh9EOiM2MDAy',
    Mn = 'https://t.me/+3u3wa8LtNjVkY2Zi'
  function jn() {
    return 'ru' === K() ? Mn : Bn
  }
  function Wn(e) {
    try {
      const { hostname: t } = new URL(e)
      return 't.me' === t
    } catch (t) {
      return !1
    }
  }
  function $n({ url: e, logger: t }) {
    try {
      !(function (e) {
        if (Wn(e)) {
          const { pathname: t, search: n } = new URL(e)
          ge(ve())('web_app_open_tg_link', { path_full: t + n })
        } else ge(ve())('web_app_open_link', { try_instant_view: !1, url: e })
      })(e)
    } catch (n) {
      t.add('url', e).send('OpenUrlError', 'WARN'), window.open(e, '_blank')
    }
  }
  function Hn({}) {
    const e = Rn(),
      t = Tn(),
      n = Wt(
        (n) => {
          n.isTrusted &&
            (n.stopPropagation(),
            t.emit(pt.leave),
            $n({ url: jn(), logger: e }))
        },
        [t, e]
      )
    return Un('div', {
      className: Fn.label,
      onClick: n,
      children: Un('span', {
        className: Fn.text,
        children: '@adsgram_ai â€“ ads in Telegram',
      }),
    })
  }
  const zn = { footer: '_footer_1rexv_1' },
    qn = { timer: '_timer_211du_1', time: '_time_211du_1' },
    Zn = (e) => `${e}`.padStart(2, '0'),
    Gn = (e) => {
      const t = e % 60
      return `${Zn(((e - t) / 60) % 60)}:${Zn(t)}`
    }
  function Jn({ timer: e }) {
    const t = Nn('FORCED_SUB_FORMAT'),
      n = En(),
      [r, i] = Ft(t && n === m.RewardBlock ? wt : yt),
      a = Wt((e, t) => {
        i(t)
      }, [])
    return (
      Bt(() => {
        e.subscribeOnTimeUpdate(a)
      }, [a, e]),
      Un('div', {
        className: qn.timer,
        children: Un('span', { className: qn.time, children: Gn(r) }),
      })
    )
  }
  function Yn({ timer: e }) {
    const t = Nn('NOT_SHOW_ADSGRAM_LABEL')
    return Un('div', {
      className: zn.footer,
      children: [Un(Jn, { timer: e }), !t && Un(Hn, {})],
    })
  }
  const Xn = (e) => {
      var t = e,
        { src: n, alt: r, className: s, isCriticalImage: c } = t,
        d = ((e, t) => {
          var n = {}
          for (var r in e) a.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
          if (null != e && i)
            for (var r of i(e))
              t.indexOf(r) < 0 && o.call(e, r) && (n[r] = e[r])
          return n
        })(t, ['src', 'alt', 'className', 'isCriticalImage'])
      const u = Rn()
      u.add('url', n)
      const p = c ? 'Critical' : '',
        h = Wt(() => {
          u.send(`${p}ImageLoadError`)
        }, [p, u])
      return Un('img', l({ className: s, src: n, alt: r, onError: h }, d))
    },
    Kn = {
      kebab: '_kebab_lsgwj_1',
      hidden: '_hidden_lsgwj_7',
      icon: '_icon_lsgwj_11',
    },
    Qn = '_wrapper_6je2u_1',
    er = '_legal-info_6je2u_15',
    tr = '_item_19dus_1',
    nr = '_header_19dus_15',
    rr = '_content_19dus_20'
  function ir({ header: e, content: t }) {
    return Un('div', {
      className: tr,
      children: [
        Un('span', { className: nr, children: e }),
        Un('span', { className: rr, children: t }),
      ],
    })
  }
  const ar = ({ kebab: e, setIsOpen: t, className: n }) => {
    const { legalName: r, inn: i, erid: a, regNumber: o } = e,
      s = Tn(),
      l = Mt(null),
      c = Wt(
        (e) => {
          e.preventDefault(),
            e.stopPropagation(),
            l.current &&
              !l.current.contains(e.target) &&
              (t(!1),
              s.emit('play'),
              l.current
                .getRootNode()
                .removeEventListener('click', c, { capture: !0 }))
        },
        [s, t]
      )
    return (
      Bt(() => {
        l.current &&
          l.current.getRootNode().addEventListener('click', c, { capture: !0 })
      }, [c]),
      Un('div', {
        className: bt(Qn, n),
        ref: l,
        children: Un('div', {
          className: er,
          children: [
            Un(ir, { header: 'Ð®Ñ€Ð¸Ð´Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð»Ð¸Ñ†Ð¾', content: r }),
            Un(ir, { header: 'Ð˜ÐÐ', content: i }),
            Un(ir, { header: 'ÐžÐ“Ð Ð', content: o }),
            Un(ir, { header: 'ERID', content: a }),
          ],
        }),
      })
    )
  }
  function or(e) {
    return 'string' == typeof e && '' !== e
  }
  function sr(e) {
    const { legalName: t, erid: n, regNumber: r, inn: i } = e
    return or(t) && or(i) && or(n) && or(r)
  }
  const lr =
    "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.522%208c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202Zm0%202c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2Zm0%206c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2Z'%20fill='%23fff'/%3e%3c/svg%3e"
  function cr({ kebab: e, classNameKebab: t, classNameKebabContent: n }) {
    const r = Tn(),
      [i, a] = Ft(!1),
      o = Wt(() => {
        i || (a(!0), r.emit('pause'))
      }, [r, i])
    return sr(e)
      ? Un('div', {
          className: bt(Kn.kebab, t),
          onClick: o,
          children: [
            Un('img', { className: Kn.icon, src: lr, alt: 'more info' }),
            i && Un(ar, { className: n, kebab: e, setIsOpen: a }),
          ],
        })
      : Un('div', { className: bt(Kn.kebab, t, Kn.hidden) })
  }
  const dr = {
      post: '_post_pofa4_1',
      show: '_show_pofa4_1',
      channel: '_channel_pofa4_21',
      icon: '_icon_pofa4_29',
      tail: '_tail_pofa4_37',
      message: '_message_pofa4_51',
      image: '_image_pofa4_61',
      text: '_text_pofa4_69',
      title: '_title_pofa4_79',
      description: '_description_pofa4_87',
      footer: '_footer_pofa4_94',
      name: '_name_pofa4_99',
      clickable: '_clickable_pofa4_118',
      adlabel: '_adlabel_pofa4_123',
      kebab: '_kebab_pofa4_133',
      'kebab-content': '_kebab-content_pofa4_145',
      kebabContent: '_kebab-content_pofa4_145',
    },
    ur = {
      close: '_close_19prg_1',
      show: '_show_19prg_1',
      image: '_image_19prg_18',
    },
    pr =
      "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.295%207.115a.997.997%200%201%200-1.41-1.41L12%2010.59%207.115%205.705a.997.997%200%200%200-1.41%201.41L10.59%2012l-4.885%204.885a.997.997%200%200%200%201.41%201.41L12%2013.41l4.885%204.885a.997.997%200%201%200%201.41-1.41L13.41%2012l4.885-4.885Z'%20fill='%23fff'/%3e%3c/svg%3e"
  function hr() {
    return (
      void 0 !== window.ontouchstart ||
      'ontouchstart' in document.documentElement
    )
  }
  function _r({ isCloseVisible: e }) {
    const t = Tn(),
      n = hr(),
      r = En() === m.InterstitialFullscreen,
      i = Wt(
        (n) => {
          e &&
            (n.isTrusted
              ? (n.preventDefault(), n.stopPropagation(), t.emit(ht.onComplete))
              : t.emit(ht.onError))
        },
        [t, e]
      )
    return e && r
      ? Un('button', {
          onClick: n ? void 0 : i,
          onTouchStart: n ? i : void 0,
          className: ur.close,
          children: Un('img', {
            className: ur.image,
            src: pr,
            alt: 'Close ad button',
          }),
        })
      : null
  }
  const mr = 'Ad Â· 18+',
    fr = 'Ð ÐµÐºÐ»Ð°Ð¼Ð° Â· 18+'
  function gr({
    image: e,
    title: t,
    description: n,
    advertiserName: r,
    icon: i,
    onClick: a,
    isClickable: o,
    kebab: s,
    isCloseVisible: l,
  }) {
    const c = Vn(),
      d = hr(),
      u = Nn('RU_GEO_SHOW') ? fr : mr
    return Un('div', {
      className: bt(dr.post, c ? dr.dark : dr.light),
      children: [
        Un(_r, { isCloseVisible: l }),
        Un('div', {
          className: dr.channel,
          children: Un(Xn, { src: i, alt: 'channel', className: dr.icon }),
        }),
        Un('div', {
          className: dr.tail,
          children: Un('svg', {
            fill: 'currentColor',
            xmlns: 'http://www.w3.org/2000/svg',
            viewBox: '0 0 6 10',
            children: Un('path', { d: 'M0 9c4.5-.5 6-5.5 6-9v10H0V9Z' }),
          }),
        }),
        Un('div', {
          className: dr.message,
          children: [
            Un(cr, {
              kebab: s,
              classNameKebab: dr.kebab,
              classNameKebabContent: dr.kebabContent,
            }),
            Un(Xn, {
              src: e,
              alt: 'Post main',
              className: dr.image,
              isCriticalImage: !0,
            }),
            Un('div', {
              className: dr.text,
              children: [
                Un('h2', { className: dr.title, children: t }),
                Un('span', { className: dr.description, children: n }),
                Un('div', {
                  className: dr.footer,
                  children: [
                    Un('button', {
                      className: bt(dr.name, o && dr.clickable),
                      onClick: d ? void 0 : a,
                      onTouchStart: d ? a : void 0,
                      disabled: !o,
                      children: r,
                    }),
                    Un('span', { className: dr.adlabel, children: u }),
                  ],
                }),
              ],
            }),
          ],
        }),
      ],
    })
  }
  const vr = {
      button: '_button_1lxao_1',
      show: '_show_1lxao_1',
      icon: '_icon_1lxao_52',
    },
    br =
      "data:image/svg+xml,%3csvg%20width='14'%20height='14'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.117%203.294V4.94h3.706l-5.147%205.147%201.236%201.235%205.147-5.147v3.706h1.647V3.294H4.117z'%20fill='%23fff'/%3e%3c/svg%3e",
    yr =
      "data:image/svg+xml,%3csvg%20width='14'%20height='14'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='3.5'%20y='3.5'%20width='7'%20height='7'%20rx='.5'%20stroke='%23fff'/%3e%3cpath%20fill='%23000'%20stroke='%23fff'%20strokeWidth='.5'%20d='M4.25%204.25h5.5v.5h-5.5z'/%3e%3c/svg%3e"
  function wr(e) {
    if (Wn(e)) {
      const { pathname: t } = new URL(e)
      return /bot\/./i.test(t)
    }
    return !1
  }
  function kr({ buttonName: e, onClick: t, url: n }) {
    const r = hr(),
      i = wr(n) ? yr : br
    return Un('button', {
      className: vr.button,
      onClick: r ? void 0 : t,
      onTouchStart: r ? t : void 0,
      children: [
        e,
        Un('img', { src: i, alt: 'link-icon', className: vr.icon }),
      ],
    })
  }
  const Er = {
      ru: 'Ð–Ð¼Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð±Ñ€Ð°Ñ‚ÑŒ Ð½Ð°Ð³Ñ€Ð°Ð´Ñƒ!',
      en: 'Click to get the reward!',
    },
    xr = {
      tooltip: '_tooltip_12o8f_1',
      show: '_show_12o8f_1',
      title: '_title_12o8f_46',
    }
  function Ar() {
    return Un('div', {
      className: xr.tooltip,
      children: Un('h3', { className: xr.title, children: Q(Er) }),
    })
  }
  const Tr = 2
  function Pr(e, t) {
    return u(this, arguments, function* (e, t, n = Tr) {
      if ('string' != typeof e || '' === e)
        return (
          t.add('trackingUrl', JSON.stringify(e)).send('WrongTrackingUrl'), !1
        )
      for (let i = 1 + n; i > 0; --i)
        try {
          if ((yield fetch(e, { method: 'GET', cache: 'no-cache' })).ok)
            return !0
        } catch (r) {
          t.addError(r).add('trackingUrl', e).send('APITrackingError')
        }
      return !1
    })
  }
  function Cr(e) {
    const t = window.getComputedStyle(e)
    if (
      '0px' == t.height ||
      'none' == t.display ||
      '0' == t.opacity ||
      'hidden' == t.visibility ||
      'circle(0px at 50% 50%)' == t.clipPath ||
      'scale(0)' == t.transform ||
      e.hasAttribute('hidden') ||
      'hidden' === document.visibilityState
    )
      return !1
    const n = e.getBoundingClientRect(),
      r = n.left,
      i = n.top,
      a = document.elementFromPoint(r, i)
    if (null != a && !e.isSameNode(a)) {
      const n = t.zIndex,
        r = window.getComputedStyle(a).zIndex
      if (Number(n) < Number(r)) return !1
      if (
        '' === n &&
        '' === r &&
        e.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_FOLLOWING
      )
        return !1
    }
    return (
      (n.bottom - n.top) * (n.right - n.left) >=
      0.5 *
        ((window.innerHeight || document.documentElement.clientHeight) *
          (window.innerWidth || document.documentElement.clientWidth))
    )
  }
  function Nr(e) {
    const t = Mt(null),
      [n, r] = Ft(!1)
    return (
      Bt(() => {
        t.current = new IntersectionObserver(
          ([e]) => {
            e.isIntersecting && Cr(e.target) ? r(!0) : r(!1)
          },
          { root: null, rootMargin: '0px', threshold: 0.5 }
        )
      }, []),
      Bt(
        () => (
          e.current && t.current && t.current.observe(e.current),
          () => {
            t.current && (r(!1), t.current.disconnect())
          }
        ),
        [e]
      ),
      n
    )
  }
  const Sr = dt(void 0)
  function Rr(e) {
    const t = $t(Sr)
    return jt(() => {
      var n
      return null != (n = null == t ? void 0 : t[e]) ? n : ''
    }, [e, t])
  }
  function Ir() {
    const e = Rn(),
      t = Rr('reward'),
      n = Tn()
    Bt(() => {
      const r = () => {
        Pr(t, e)
      }
      return (
        n.on(ht.onReward, r),
        () => {
          n.off(ht.onReward, r)
        }
      )
    }, [n, t, e])
  }
  const Vr = class e {
    constructor({ callbacks: e, endTime: t }) {
      d(this, 'startTime'),
        d(this, 'endTime'),
        d(this, 'time'),
        d(this, 'stopped'),
        d(this, 'finished'),
        d(this, 'stopTime'),
        d(this, 'fromStopToResumeTime'),
        d(this, 'onSpecificTimeCallback'),
        d(this, 'onTimeUpdateCallback'),
        d(this, 'onTickUpdateCallback'),
        d(this, 'onEndCallback'),
        (this.startTime = performance.now()),
        (this.endTime = t),
        (this.time = 0),
        (this.stopped = !1),
        (this.finished = !1),
        (this.stopTime = 0),
        (this.fromStopToResumeTime = 0),
        (this.onSpecificTimeCallback = {})
      for (const n in e)
        Number.isNaN(Number(n)) || (this.onSpecificTimeCallback[n] = e[n])
      ;(this.onTimeUpdateCallback = e.onTimeUpdate),
        (this.onTickUpdateCallback = e.onTick),
        (this.onEndCallback = e.endCallback),
        this.tick()
    }
    get isFinished() {
      return this.finished
    }
    get isStopped() {
      return this.stopped
    }
    get elapsedTime() {
      return this.endTime - this.time
    }
    stop() {
      return (
        this.stopped ||
          ((this.stopTime = performance.now()), (this.stopped = !0)),
        this.time
      )
    }
    resume() {
      if (this.stopped) {
        const e = performance.now() - this.stopTime
        ;(this.fromStopToResumeTime += e), (this.stopped = !1), this.tick()
      }
    }
    restart() {
      ;(this.time = 0),
        (this.fromStopToResumeTime = performance.now() - this.startTime),
        (this.stopped = !1),
        (this.finished = !1),
        this.tick()
    }
    subscribeOnSpecificTimeUpdate(e, t) {
      this.onSpecificTimeCallback[e] = t
    }
    subscribeOnTimeUpdate(e) {
      this.onTimeUpdateCallback = e
    }
    subscribeOnTickUpdate(e) {
      this.onTickUpdateCallback = e
    }
    subscribeOnEnd(e) {
      this.onEndCallback = e
    }
    unsubscribeAll() {
      ;(this.onEndCallback = void 0),
        (this.onTimeUpdateCallback = void 0),
        (this.onSpecificTimeCallback = {}),
        (this.onTickUpdateCallback = void 0)
    }
    destroy() {
      ;(this.finished = !0), this.unsubscribeAll()
    }
    tick() {
      var t, n, r
      if (this.stopped || this.finished) return
      if (
        performance.now() - this.fromStopToResumeTime - this.startTime >
        1e3 * (this.time + 1)
      ) {
        ++this.time,
          null == (t = this.onTimeUpdateCallback) ||
            t.call(this, this.time, this.elapsedTime)
        const e = this.onSpecificTimeCallback[this.time]
        null == e || e(this.time, this.elapsedTime)
      }
      this.time < this.endTime
        ? setTimeout(this.tick.bind(this), e.checkInterval)
        : (null == (n = this.onEndCallback) ||
            n.call(this, this.time, this.elapsedTime),
          (this.finished = !0)),
        null == (r = this.onTickUpdateCallback) ||
          r.call(this, this.time, this.elapsedTime)
    }
  }
  d(Vr, 'checkInterval', 100)
  let Lr = Vr
  const Or = '_banner_dls25_1',
    Ur = dt('')
  function Dr() {
    return $t(Ur)
  }
  const Fr = {
      button: '_button_1j13t_1',
      show: '_show_1j13t_1',
      visible: '_visible_1j13t_35',
      hidden: '_hidden_1j13t_40',
    },
    Br = 15e3,
    Mr = 5e3,
    jr = dt(null)
  function Wr() {
    return $t(jr)
  }
  function $r(e) {
    return `${e}-action-button`
  }
  const Hr = new (class {
    constructor() {
      d(this, 'subscribers', {}), d(this, 'dispatchedEvents', new Set())
    }
    onFiredBeforePlayerEvent(e, t) {
      var n, r
      this.dispatchedEvents.has(e)
        ? t()
        : (null != (r = (n = this.subscribers)[e]) ? r : (n[e] = [])).push(t)
    }
    dispatchEvent(e) {
      var t
      this.dispatchedEvents.add(e),
        null == (t = this.subscribers[e]) || t.map((e) => e()),
        (this.subscribers[e] = [])
    }
    clear() {
      ;(this.dispatchedEvents = new Set()), (this.subscribers = {})
    }
  })()
  function zr({ text: e }) {
    const t = Dr(),
      n = Wr(),
      r = Tn(),
      i = Rn(),
      a = En() === m.InterstitialFullscreen,
      [o, s] = Ft(!1),
      [l, c] = Ft(''),
      d = Mt(1 / 0),
      u = Wt(() => {
        n &&
          (c(n.clickThroughUrl),
          n.on('showActionButton', () => {
            s(!0)
          }))
      }, [n])
    Bt(() => {
      n && Hr.onFiredBeforePlayerEvent('adstarted', u)
    }, [u, n])
    const p = Wt(
        (e) => {
          e.isTrusted &&
            (wr(l)
              ? n && (n.muted = !0)
              : (null == n || n.pause(), (d.current = Date.now())),
            r.emit('leave'),
            $n({ url: l, logger: i }))
        },
        [r, l, i, n]
      ),
      h = Wt(() => {
        Date.now() - d.current > Br && r.emit(a ? ht.onComplete : ht.onReward),
          (d.current = 1 / 0)
      }, [r, a])
    return (
      Bt(() => {
        r.on('return', h)
      }, [r, h]),
      Un('button', {
        id: $r(t),
        className: `${Fr.button} ${o ? Fr.visible : Fr.hidden}`,
        onClick: p,
        children: e,
      })
    )
  }
  const qr = { footer: '_footer_15eel_1' },
    Zr = { point: '_point_m3ogu_1' }
  function Gr({ packshotDuration: e }) {
    const t = Mt(null),
      n = Wr(),
      r = En() === m.InterstitialFullscreen,
      i = Wt(() => {
        if (t.current && n) {
          const r = n.adDuration + (null != e ? e : 0),
            i = (Mr / r) * 100
          ;(t.current.style.left = `calc(${i}% - 3px)`),
            (t.current.style.opacity = '1')
        }
      }, [e, n])
    return (
      Bt(() => {
        n && r && n.on('adstarted', i)
      }, [r, i, n]),
      r ? Un('div', { className: Zr.point, ref: t }) : null
    )
  }
  const Jr = {
    timeline: '_timeline_1iayw_1',
    bar: '_bar_1iayw_11',
    progress: '_progress_1iayw_18',
  }
  function Yr({ packshotDuration: e }) {
    const t = Mt(null),
      n = Wr(),
      r = Wt(() => {
        t.current &&
          n &&
          (function ({ player: e, progress: t, packshotDuration: n }) {
            const r = e.adDuration + (null != n ? n : 0)
            let i,
              a,
              o = !1,
              s = !1
            e.on('adcomplete', () => {
              s = !0
            }),
              e.on('addestroyed', () => {
                o = !0
              })
            const l = (c) => {
              if (s && n) {
                void 0 === i && (i = c)
                const s = c - i
                if ((s >= n && (o = !0), a !== c)) {
                  const n = ((e.adDuration + s) / r) * 100
                  t.style.width = `${n}%`
                }
                a = c
              }
              if (!s) {
                const n = (e.adCurrentTime / r) * 100
                Number(t.style.width.replace('%', '')) < n &&
                  (t.style.width = `${n}%`)
              }
              o || requestAnimationFrame(l)
            }
            requestAnimationFrame(l)
          })({ player: n, progress: t.current, packshotDuration: e })
      }, [e, n])
    return (
      Bt(() => {
        n && n.on('adstarted', r)
      }, [r, n]),
      Un('div', {
        className: Jr.timeline,
        children: Un('div', {
          className: Jr.bar,
          children: [
            Un(Gr, { packshotDuration: e }),
            Un('div', { className: Jr.progress, ref: t }),
          ],
        }),
      })
    )
  }
  function Xr({ packshotDuration: e }) {
    return Un('div', {
      className: qr.footer,
      children: Un(Yr, { packshotDuration: e }),
    })
  }
  const Kr = {
    wrapper: '_wrapper_14j31_1',
    adlabeltext: '_adlabeltext_14j31_15',
    adlabel: '_adlabel_14j31_15',
    tgchannel: '_tgchannel_14j31_29',
  }
  function Qr() {
    const e = Rn(),
      t = Tn(),
      n = Nn('NOT_SHOW_ADSGRAM_LABEL'),
      r = Nn('RU_GEO_SHOW') ? fr : mr,
      i = Wt(
        (n) => {
          n.stopPropagation(),
            n.preventDefault(),
            t.emit(pt.leave),
            $n({ url: jn(), logger: e })
        },
        [t, e]
      )
    return n
      ? Un('p', { className: Kr.adlabel, children: r })
      : Un('div', {
          className: Kr.wrapper,
          onClick: i,
          children: [
            Un('p', {
              className: Kr.tgchannel,
              children: '@adsgram_ai â€“ ads in Telegram',
            }),
            Un('p', { className: Kr.adlabeltext, children: r }),
          ],
        })
  }
  const ei = {
    close: '_close_3nvo5_1',
    clickable: '_clickable_3nvo5_9',
    image: '_image_3nvo5_13',
  }
  function ti() {
    const e = Wr(),
      t = Tn(),
      [n, r] = Ft(!1),
      i = En() === m.InterstitialFullscreen,
      a = Wt(
        (e) => {
          n &&
            (e.isTrusted
              ? (e.preventDefault(), e.stopPropagation(), t.emit(ht.onComplete))
              : t.emit(ht.onError))
        },
        [t, n]
      )
    return (
      Bt(() => {
        e &&
          i &&
          e.on('enableCloseButton', () => {
            r(!0)
          })
      }, [i, e]),
      Un('div', {
        onClick: a,
        className: bt(ei.close, n && ei.clickable),
        children: Un('img', {
          className: ei.image,
          src: pr,
          alt: 'Close ad button',
        }),
      })
    )
  }
  const ni = {
      header: '_header_1ke3p_1',
      container: '_container_1ke3p_14',
      'expanded-header': '_expanded-header_1ke3p_19',
      expandedHeader: '_expanded-header_1ke3p_19',
      'label-container': '_label-container_1ke3p_23',
      labelContainer: '_label-container_1ke3p_23',
      preview: '_preview_1ke3p_33',
      kebab: '_kebab_1ke3p_37',
      'kebab-content': '_kebab-content_1ke3p_45',
      kebabContent: '_kebab-content_1ke3p_45',
    },
    ri = { volume: '_volume_10n0w_1' },
    ii =
      "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13%205.345c0-1.576-1.92-2.349-3.011-1.213L6.654%207.6H5a3%203%200%200%200-3%203v2.8a3%203%200%200%200%203%203h1.23l3.798%203.703c1.109%201.08%202.972.295%202.972-1.253V5.345ZM5%2014.4h2.044L11%2018.257V5.966L7.505%209.6H5a1%201%200%200%200-1%201v2.8a1%201%200%200%200%201%201Z'%20fill='%23fff'/%3e%3cpath%20d='M16.707%208.793a1%201%200%201%200-1.414%201.414L17.086%2012l-1.793%201.793a1%201%200%200%200%201.414%201.414l1.793-1.793%201.793%201.793a1%201%200%200%200%201.414-1.414L19.914%2012l1.793-1.793a1%201%200%200%200-1.414-1.414L18.5%2010.586l-1.793-1.793Z'%20fill='%23fff'/%3e%3c/svg%3e",
    ai =
      "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.807%203.39a1%201%200%200%201%201.324-.497%2010%2010%200%200%201%20.253%2018.095%201%201%200%201%201-.877-1.797%208%208%200%200%200-.202-14.476%201%201%200%200%201-.498-1.324Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.989%204.132C11.08%202.996%2013%203.769%2013%205.345V18.85c0%201.548-1.863%202.334-2.972%201.253L6.231%2016.4H5a3%203%200%200%201-3-3v-2.8a3%203%200%200%201%203-3h1.654l3.335-3.468ZM7.044%2014.4H5a1%201%200%200%201-1-1v-2.8a1%201%200%200%201%201-1h2.505L11%205.966v12.29L7.044%2014.4Z'%20fill='%23fff'/%3e%3cpath%20d='M16.479%206.536a1%201%200%200%200-.827%201.821%204%204%200%200%201%20.102%207.238%201%201%200%200%200%20.876%201.798%206%206%200%200%200-.151-10.857Z'%20fill='%23fff'/%3e%3c/svg%3e",
    oi = 'volume-button'
  function si() {
    const e = Wr(),
      [t, n] = Ft(!1)
    Bt(() => {
      e && n(e.muted)
    }, [e])
    return Un('div', {
      onClick: Wt(() => {
        ;(e.muted = !t), n((e) => !e)
      }, [t, e]),
      className: ri.volume,
      'data-testid': oi,
      children: Un(
        'img',
        t ? { src: ii, alt: 'unmute' } : { src: ai, alt: 'mute' }
      ),
    })
  }
  function li({ kebab: e }) {
    const t = En() === m.InterstitialFullscreen,
      n = sr(e)
    return Un('div', {
      className: bt(ni.header, !1, { [ni.expandedHeader]: t && n }),
      children: [
        Un('div', { className: ni.container, children: Un(si, {}) }),
        Un('div', { className: ni.labelContainer, children: Un(Qr, {}) }),
        Un('div', {
          className: ni.container,
          children: [
            n &&
              Un(cr, {
                kebab: e,
                classNameKebab: ni.kebab,
                classNameKebabContent: ni.kebabContent,
              }),
            t && Un(ti, {}),
          ],
        }),
      ],
    })
  }
  const ci = {
    packshot: '_packshot_1eu44_1',
    creatives: '_creatives_1eu44_23',
    image: '_image_1eu44_35',
    title: '_title_1eu44_44',
    description: '_description_1eu44_54',
    play: '_play_1eu44_63',
    pause: '_pause_1eu44_68',
  }
  function di({ image: e, title: t, description: n, duration: r }) {
    const i = Wr(),
      a = Tn(),
      o = En() === m.InterstitialFullscreen,
      [s, l] = Ft(!1),
      c = Mt(null)
    return (
      Bt(() => {
        i &&
          i.on('adcomplete', () => {
            l(!0),
              (c.current = new Lr({
                callbacks: {
                  endCallback: () => {
                    a.emit(o ? ht.onComplete : ht.onReward)
                  },
                },
                endTime: r / 1e3,
              }))
          })
      }, [a, r, o, i]),
      Bt(() => {
        const e = () => {
            var e
            null == (e = c.current) || e.destroy()
          },
          t = () => {
            var e
            null == (e = c.current) || e.resume()
          },
          n = () => {
            var e
            null == (e = c.current) || e.stop()
          }
        return (
          a.on(pt.finalDestroy, e),
          a.on(pt.play, t),
          a.on(pt.pause, n),
          () => {
            a.off(pt.finalDestroy, e), a.off(pt.play, t), a.off(pt.pause, n)
          }
        )
      }, [a, c]),
      Un('div', {
        className: `${ci.packshot} ${s ? ci.play : ci.pause}`,
        children: Un('div', {
          className: `${ci.creatives} ${s ? ci.play : ci.pause}`,
          children: [
            Un(Xn, { className: ci.image, src: e, alt: 'app icon' }),
            Un('span', { className: ci.title, children: t }),
            Un('span', { className: ci.description, children: n }),
          ],
        }),
      })
    )
  }
  const ui = {
    childByName: function (e, t) {
      const n = e.childNodes
      for (const r in n) {
        const e = n[r]
        if (e.nodeName === t) return e
      }
    },
    childrenByName: function (e, t) {
      const n = [],
        r = e.childNodes
      for (const i in r) {
        const e = r[i]
        e.nodeName === t && n.push(e)
      }
      return n
    },
    parseBoolean: function (e) {
      return -1 !== ['true', 'TRUE', 'True', '1'].indexOf(e)
    },
    parseNodeText: function (e) {
      return e && (e.textContent || e.text || '').trim()
    },
    copyNodeAttribute: function (e, t, n) {
      const r = t.getAttribute(e)
      r && n.setAttribute(e, r)
    },
    parseAttributes: function (e) {
      const t = e.attributes,
        n = {}
      for (let r = 0; r < t.length; r++) n[t[r].nodeName] = t[r].nodeValue
      return n
    },
    parseDuration: function (e) {
      if (null == e) return -1
      const t = e.split(':')
      if (3 !== t.length) return -1
      const n = t[2].split('.')
      let r = parseInt(n[0])
      2 === n.length && (r += parseFloat(`0.${n[1]}`))
      const i = parseInt(60 * t[1]),
        a = parseInt(60 * t[0] * 60)
      return isNaN(a) || isNaN(i) || isNaN(r) || i > 3600 || r > 60
        ? -1
        : a + i + r
    },
  }
  function pi(e, t) {
    let n
    const r = (function (e = {}) {
      const {
        id: t,
        adId: n,
        apiFramework: r,
      } = (function (e = {}) {
        return {
          id: e.id || null,
          adId: e.adId || null,
          apiFramework: e.apiFramework || null,
          universalAdIds: [],
          creativeExtensions: [],
        }
      })(e)
      return {
        id: t,
        adId: n,
        apiFramework: r,
        type: 'linear',
        duration: 0,
        skipDelay: null,
        mediaFiles: [],
        videoClickThroughURLTemplate: null,
        videoClickTrackingURLTemplates: [],
        videoCustomClickURLTemplates: [],
        trackingEvents: {},
      }
    })(t)
    r.duration = ui.parseDuration(
      ui.parseNodeText(ui.childByName(e, 'Duration'))
    )
    const i = e.getAttribute('skipoffset')
    if (null == i) r.skipDelay = null
    else if ('%' === i.charAt(i.length - 1) && -1 !== r.duration) {
      const e = parseInt(i, 10)
      r.skipDelay = r.duration * (e / 100)
    } else r.skipDelay = ui.parseDuration(i)
    const a = ui.childByName(e, 'VideoClicks')
    if (a) {
      const e = ui.childByName(a, 'ClickThrough')
      ;(r.videoClickThroughURLTemplate = e
        ? { id: e.getAttribute('id') || null, url: ui.parseNodeText(e) }
        : null),
        ui.childrenByName(a, 'ClickTracking').forEach((e) => {
          r.videoClickTrackingURLTemplates.push({
            id: e.getAttribute('id') || null,
            url: ui.parseNodeText(e),
          })
        })
    }
    return (
      ui.childrenByName(e, 'TrackingEvents').forEach((e) => {
        ui.childrenByName(e, 'Tracking').forEach((e) => {
          let t = e.getAttribute('event')
          const i = ui.parseNodeText(e)
          if (t && i) {
            if ('progress' === t) {
              if (((n = e.getAttribute('offset')), !n)) return
              t =
                '%' === n.charAt(n.length - 1)
                  ? `progress-${n}`
                  : `progress-${Math.round(ui.parseDuration(n))}`
            }
            Array.isArray(r.trackingEvents[t]) || (r.trackingEvents[t] = []),
              r.trackingEvents[t].push(i)
          }
        })
      }),
      ui.childrenByName(e, 'MediaFiles').forEach((e) => {
        ui.childrenByName(e, 'MediaFile').forEach((e) => {
          r.mediaFiles.push(
            (function (e) {
              const t = {
                id: null,
                fileURL: null,
                fileSize: 0,
                deliveryType: 'progressive',
                mimeType: null,
                mediaType: null,
                codec: null,
                bitrate: 0,
                minBitrate: 0,
                maxBitrate: 0,
                width: 0,
                height: 0,
                apiFramework: null,
                scalable: null,
                maintainAspectRatio: null,
              }
              ;(t.id = e.getAttribute('id')),
                (t.fileURL = ui.parseNodeText(e)),
                (t.deliveryType = e.getAttribute('delivery')),
                (t.codec = e.getAttribute('codec')),
                (t.mimeType = e.getAttribute('type')),
                (t.mediaType = e.getAttribute('mediaType') || '2D'),
                (t.apiFramework = e.getAttribute('apiFramework')),
                (t.fileSize = parseInt(e.getAttribute('fileSize') || 0)),
                (t.bitrate = parseInt(e.getAttribute('bitrate') || 0)),
                (t.minBitrate = parseInt(e.getAttribute('minBitrate') || 0)),
                (t.maxBitrate = parseInt(e.getAttribute('maxBitrate') || 0)),
                (t.width = parseInt(e.getAttribute('width') || 0)),
                (t.height = parseInt(e.getAttribute('height') || 0))
              const n = e.getAttribute('scalable')
              n && 'string' == typeof n && (t.scalable = ui.parseBoolean(n))
              const r = e.getAttribute('maintainAspectRatio')
              r &&
                'string' == typeof r &&
                (t.maintainAspectRatio = ui.parseBoolean(r))
              return t
            })(e)
          )
        })
      }),
      r
    )
  }
  function hi(e) {
    const t = []
    return (
      e.forEach((e) => {
        const n = _i(e)
        n && t.push(n)
      }),
      t
    )
  }
  function _i(e) {
    if ('#comment' === e.nodeName) return null
    const t = { name: null, value: null, attributes: {}, children: [] },
      n = e.attributes,
      r = e.childNodes
    if (((t.name = e.nodeName), e.attributes))
      for (const a in n)
        if (n.hasOwnProperty(a)) {
          const e = n[a]
          e.nodeName && e.nodeValue && (t.attributes[e.nodeName] = e.nodeValue)
        }
    for (const a in r)
      if (r.hasOwnProperty(a)) {
        const e = _i(r[a])
        e && t.children.push(e)
      }
    if (
      0 === t.children.length ||
      (1 === t.children.length &&
        ['#cdata-section', '#text'].indexOf(t.children[0].name) >= 0)
    ) {
      const n = ui.parseNodeText(e)
      '' !== n && (t.value = n), (t.children = [])
    }
    return null === (i = t).value &&
      0 === Object.keys(i.attributes).length &&
      0 === i.children.length
      ? null
      : t
    var i
  }
  function mi(e) {
    const t = []
    return (
      e.forEach((e) => {
        const n = {
            id: e.getAttribute('id') || null,
            adId: fi(e),
            apiFramework: e.getAttribute('apiFramework') || null,
          },
          r = []
        let i
        ui.childrenByName(e, 'UniversalAdId').forEach((e) => {
          const t = {
            idRegistry: e.getAttribute('idRegistry') || 'unknown',
            value: ui.parseNodeText(e),
          }
          r.push(t)
        })
        const a = ui.childByName(e, 'CreativeExtensions')
        a && (i = hi(ui.childrenByName(a, 'CreativeExtension')))
        for (const o in e.childNodes) {
          const a = e.childNodes[o]
          let s
          switch (a.nodeName) {
            case 'Linear':
              s = pi(a, n)
              break
            case 'NonLinearAds':
              throw new Error('NonLinear ads are not supported')
            case 'CompanionAds':
              throw new Error('CompanionAds ads are not supported')
          }
          s &&
            (r && (s.universalAdIds = r),
            i && (s.creativeExtensions = i),
            t.push(s))
        }
      }),
      t
    )
  }
  function fi(e) {
    return (
      e.getAttribute('AdID') ||
      e.getAttribute('adID') ||
      e.getAttribute('adId') ||
      null
    )
  }
  const gi = {
    Wrapper: { subElements: ['VASTAdTagURI', 'Impression'] },
    InLine: {
      subElements: [
        'AdSystem',
        'AdTitle',
        'Impression',
        'AdServingId',
        'Creatives',
      ],
    },
    UniversalAdId: { attributes: ['idRegistry'] },
    Tracking: { attributes: ['event'] },
    Creatives: { subElements: ['Creative'] },
    Creative: { subElements: ['UniversalAdId'] },
    Linear: { subElements: ['MediaFiles', 'Duration'] },
    MediaFiles: { subElements: ['MediaFile'] },
    MediaFile: { attributes: ['delivery', 'type', 'width', 'height'] },
    StaticResource: { attributes: ['creativeType'] },
  }
  function vi(e, t) {
    if (!gi[e.nodeName] || !gi[e.nodeName].attributes) return
    const n = gi[e.nodeName].attributes.filter((t) => !e.getAttribute(t))
    n.length > 0 &&
      wi(
        { name: e.nodeName, parentName: e.parentNode.nodeName, attributes: n },
        t
      )
  }
  function bi(e, t, n) {
    const r = gi[e.nodeName],
      i = !n && 'Wrapper' !== e.nodeName
    if (!r || i) return
    if (r.subElements) {
      const n = r.subElements.filter((t) => !ui.childByName(e, t))
      n.length > 0 &&
        wi(
          {
            name: e.nodeName,
            parentName: e.parentNode.nodeName,
            subElements: n,
          },
          t
        )
    }
    if (!n || !r.oneOfinLineResources) return
    r.oneOfinLineResources.some((t) => ui.childByName(e, t)) ||
      wi(
        {
          name: e.nodeName,
          parentName: e.parentNode.nodeName,
          oneOfResources: r.oneOfinLineResources,
        },
        t
      )
  }
  function yi(e) {
    return e.children && 0 !== e.children.length
  }
  function wi(
    {
      name: e,
      parentName: t,
      attributes: n,
      subElements: r,
      oneOfResources: i,
    },
    a
  ) {
    let o = `Element '${e}'`
    ;(o += n
      ? ` missing required attribute(s) '${n.join(', ')}' `
      : r
        ? ` missing required sub element(s) '${r.join(', ')}' `
        : i
          ? ` must provide one of the following '${i.join(', ')}' `
          : ' is empty'),
      a('VAST-warning', { message: o, parentElement: t, specVersion: 4.1 })
  }
  const ki = {
    verifyRequiredValues: function e(t, n, r) {
      if (t && t.nodeName)
        if (('InLine' === t.nodeName && (r = !0), vi(t, n), yi(t))) {
          bi(t, n, r)
          for (let i = 0; i < t.children.length; i++) e(t.children[i], n, r)
        } else
          0 === ui.parseNodeText(t).length &&
            wi({ name: t.nodeName, parentName: t.parentNode.nodeName }, n)
    },
    hasSubElements: yi,
    emitMissingValueWarning: wi,
    verifyRequiredAttributes: vi,
    verifyRequiredSubElements: bi,
  }
  function Ei(e, t) {
    const n = e.childNodes
    for (const r in n) {
      const i = n[r]
      if (-1 !== ['InLine'].indexOf(i.nodeName))
        return (
          ui.copyNodeAttribute('id', e, i),
          ui.copyNodeAttribute('adType', e, i),
          { ad: xi(i, t), type: 'INLINE' }
        )
    }
  }
  function xi(e, t) {
    return (function (e, t) {
      t && ki.verifyRequiredValues(e, t)
      const n = e.childNodes,
        r = (function (e = {}) {
          return {
            id: e.id || null,
            adType: e.adType || null,
            adServingId: null,
            system: null,
            title: null,
            description: null,
            errorURLTemplates: [],
            impressionURLTemplates: [],
            creatives: [],
            extensions: [],
            followAdditionalWrappers: !0,
            allowMultipleAds: !1,
            fallbackOnNoAd: null,
          }
        })(ui.parseAttributes(e))
      for (const i in n) {
        const e = n[i]
        switch (e.nodeName) {
          case 'Error':
            r.errorURLTemplates.push(ui.parseNodeText(e))
            break
          case 'Impression':
            r.impressionURLTemplates.push({
              id: e.getAttribute('id') || null,
              url: ui.parseNodeText(e),
            })
            break
          case 'Creatives':
            r.creatives = mi(ui.childrenByName(e, 'Creative'))
            break
          case 'Extensions': {
            const t = ui.childrenByName(e, 'Extension')
            r.extensions = hi(t)
            break
          }
          case 'AdSystem':
            r.system = {
              value: ui.parseNodeText(e),
              version: e.getAttribute('version') || null,
            }
            break
          case 'AdTitle':
            r.title = ui.parseNodeText(e)
            break
          case 'AdServingId':
            r.adServingId = ui.parseNodeText(e)
            break
          case 'Description':
            r.description = ui.parseNodeText(e)
        }
      }
      return r
    })(e, t)
  }
  const Ai = ['MEDIAPLAYHEAD', 'TIMESTAMP']
  function Ti(e, t) {
    const n = (e = Pi(e, t)).match(/[^[\]]+(?=])/g)
    if (!n) return e
    let r = n.filter((e) => Ai.indexOf(e) > -1)
    return 0 === r.length
      ? e
      : ((r = r.reduce((e, t) => ((e[t] = -1), e), {})), Pi(e, r))
  }
  function Pi(e, t) {
    let n = e
    for (const r in t) {
      const e = t[r]
      n = n.replace(new RegExp(`(?:\\[|%%)(${r})(?:\\]|%%)`, 'g'), e)
    }
    return n
  }
  function Ci(e) {
    return encodeURIComponent(e).replace(
      /[!'()*]/g,
      (e) => `%${e.charCodeAt(0).toString(16)}`
    )
  }
  const Ni = {
      track: function (e, t, n) {
        ;(function (e, t = {}, n = {}) {
          const r = [],
            i = (function (e) {
              if (Array.isArray(e))
                return e.map((e) => (e && e.hasOwnProperty('url') ? e.url : e))
              return e
            })(e)
          !t.ERRORCODE ||
            n.isCustomCode ||
            /^[0-9]{3}$/.test(t.ERRORCODE) ||
            (t.ERRORCODE = 900)
          t.TIMESTAMP = new Date().toISOString()
          for (const a in t) t[a] = Ci(t[a])
          for (const a in i) {
            const e = i[a]
            'string' == typeof e && r.push(Ti(e, t))
          }
          return r
        })(e, t, n).forEach((e) => {
          if ('undefined' != typeof window && null !== window) {
            new Image().src = e
          }
        })
      },
    },
    Si = { ERRORCODE: 900, extensions: [] }
  class Ri {
    constructor(e) {
      ;(this.remainingAds = []),
        (this.errorURLTemplates = []),
        (this.rootErrorURLTemplates = []),
        (this.URLTemplateFilters = []),
        (this.emit = (t, n) => {
          e(t, n)
        })
    }
    _trackVastError(e, t, ...n) {
      this.emit('VAST-error', Object.assign({}, Si, t, ...n)), Ni.track(e, t)
    }
    _getErrorURLTemplates() {
      return this.rootErrorURLTemplates.concat(this.errorURLTemplates)
    }
    _initParsingStatus() {
      ;(this.errorURLTemplates = []),
        (this.remainingAds = []),
        (this.rootErrorURLTemplates = []),
        (this.vastVersion = null)
    }
    parseVAST(e) {
      return (
        this._initParsingStatus(),
        this._parse(e).then((e) => this.buildVASTResponse(e))
      )
    }
    buildVASTResponse(e) {
      const t = {
        ads: e,
        errorURLTemplates: this._getErrorURLTemplates(),
        version: this.vastVersion,
      }
      return this._reportPossibleParsingErrors(t), t
    }
    _parseVastXml(e) {
      if (!e || !e.documentElement || 'VAST' !== e.documentElement.nodeName)
        throw (
          (this.emit('VAST-ad-parsed', { type: 'ERROR' }),
          new Error('Invalid VAST XMLDocument'))
        )
      const t = [],
        n = e.documentElement.childNodes,
        r = e.documentElement.getAttribute('version')
      r && (this.vastVersion = r)
      for (const i in n) {
        const e = n[i]
        if ('Error' === e.nodeName) {
          const t = ui.parseNodeText(e)
          this.rootErrorURLTemplates.push(t)
        } else if ('Ad' === e.nodeName) {
          if (t.length > 1) throw new Error('VAST document must contain one Ad')
          const n = Ei(e, this.emit.bind(this))
          n.ad
            ? (t.push(n.ad), this.emit('VAST-ad-parsed', { type: n.type }))
            : this._trackVastError(this._getErrorURLTemplates(), {
                ERRORCODE: 101,
              })
        }
      }
      return t
    }
    _parse(e) {
      let t = []
      try {
        t = this._parseVastXml(e)
      } catch (n) {
        return Promise.reject(n)
      }
      return Promise.resolve(t)
    }
    _reportPossibleParsingErrors(e) {
      if (0 === e.ads.length)
        this._trackVastError(e.errorURLTemplates, { ERRORCODE: 303 })
      else
        for (let t = e.ads.length - 1; t >= 0; t--) {
          const n = e.ads[t]
          ;(n.errorCode || 0 === n.creatives.length) &&
            (this._trackVastError(
              n.errorURLTemplates.concat(e.errorURLTemplates),
              { ERRORCODE: n.errorCode || 303 },
              { ERRORMESSAGE: n.errorMessage || '' },
              { extensions: n.extensions },
              { system: n.system }
            ),
            e.ads.splice(t, 1))
        }
    }
  }
  class Ii {
    constructor() {}
    _getConnectionType() {
      if (
        'string' == typeof navigator.connection.type &&
        '' !== navigator.connection.type
      )
        switch (navigator.connection.type) {
          case 'ethernet':
            return 'ethernet'
          case 'wifi':
          case 'wimax':
            return 'wifi'
          case 'bluetooth':
          case 'cellular':
            return 'cellular'
          case 'none':
            return 'none'
        }
      return 'unknown'
    }
    _getBandwidthEstimate() {
      if (
        'number' == typeof navigator.connection.downlink &&
        navigator.connection.downlink > 0
      )
        return navigator.connection.downlink
      if (
        'string' == typeof navigator.connection.effectiveType &&
        '' !== navigator.connection.effectiveType
      )
        switch (navigator.connection.effectiveType) {
          case 'slow-2g':
            return 0.025
          case '2g':
            return 0.035
          case '3g':
            return 0.35
          case '4g':
            return 1.4
        }
      else if (
        'string' == typeof navigator.connection.type &&
        '' !== navigator.connection.type
      )
        switch (navigator.connection.type) {
          case 'ethernet':
          case 'wifi':
          case 'wimax':
            return 1.4
          case 'bluetooth':
          case 'cellular':
            return 0.35
          case 'none':
            return -1
        }
      return 0.025
    }
    get bandwidthData() {
      const e = { estimate: -1, connectionType: 'none' }
      return void 0 === navigator.onLine || navigator.onLine
        ? void 0 === navigator.connection
          ? { estimate: 1.1, connectionType: 'unknown' }
          : {
              estimate: this._getBandwidthEstimate(),
              connectionType: this._getConnectionType(),
            }
        : e
    }
  }
  class Vi {
    static _filterVersion(e) {
      if (navigator.userAgent) {
        const t = navigator.userAgent.match(e)
        if (Array.isArray(t) && void 0 !== t[1]) return parseInt(t[1], 10)
      }
      return -1
    }
    static get _testVideo() {
      return document.createElement('video')
    }
    static get hasTouchEvents() {
      return !!(
        void 0 !== window.ontouchstart ||
        (window.DocumentTouch && document instanceof window.DocumentTouch)
      )
    }
    static get userAgent() {
      return navigator.userAgent ? navigator.userAgent : null
    }
    static get devicePixelRatio() {
      let e = 1
      return (
        Number.isFinite(window.devicePixelRatio) &&
          window.devicePixelRatio > 1 &&
          (e = window.devicePixelRatio),
        e
      )
    }
    static get maxTouchPoints() {
      return 'number' == typeof navigator.maxTouchPoints
        ? navigator.maxTouchPoints
        : -1
    }
    static get isIos() {
      const e = /os\s+(\d+)_/i
      let t = [!1, -1]
      return (
        /(ipad|iphone|ipod)/i.test(Vi.userAgent) &&
          Vi.hasTouchEvents &&
          (t = [!0, Vi._filterVersion(e)]),
        t
      )
    }
    static get isIpadOS() {
      return !!(
        !Vi.isIos[0] &&
        Vi.hasTouchEvents &&
        /macintel/i.test(navigator.platform) &&
        Vi.devicePixelRatio > 1 &&
        Vi.maxTouchPoints > 1
      )
    }
    static get isMacOS() {
      const e = /mac\s+os\s+x\s+(\d+)_(\d+)/i
      let t = !1,
        n = -1
      return (
        Vi.isIos[0] ||
          Vi.isIpadOS ||
          !/(macintosh|mac\s+os)/i.test(Vi.userAgent) ||
          ((t = !0), (n = Vi._filterVersion(e, !0))),
        [t, n]
      )
    }
    static get isSafari() {
      const e = /version\/(\d+)\./i
      let t = !1,
        n = -1
      return (
        /safari\/[.0-9]*/i.test(Vi.userAgent) &&
          !/(chrome|chromium|android|crios|fxios)/i.test(Vi.userAgent) &&
          ((t = !0), (n = Vi._filterVersion(e))),
        [t, n]
      )
    }
    static get isMacOSSafari() {
      return Vi.isMacOS[0] && Vi.isSafari[0]
    }
    static get isAndroid() {
      const e = /android\s*(\d+)\./i
      let t = [!1, -1]
      return (
        !Vi.isIos[0] &&
          Vi.hasTouchEvents &&
          /android/i.test(Vi.userAgent) &&
          (t = [!0, Vi._filterVersion(e)]),
        t
      )
    }
    static get isMobile() {
      return !!(Vi.isIos[0] || Vi.isAndroid[0] || Vi.isIpadOS)
    }
    static get hasNativeFullscreenSupport() {
      const e = document.documentElement,
        t = Vi._testVideo
      return !(
        !e ||
        (void 0 === e.requestFullscreen &&
          void 0 === e.webkitRequestFullscreen &&
          void 0 === e.mozRequestFullScreen &&
          void 0 === e.msRequestFullscreen &&
          void 0 === t.webkitEnterFullscreen)
      )
    }
    static checkCanPlayType(e, t) {
      const n = Vi._testVideo
      if ('undefined' !== n.canPlayType) {
        if (
          (Vi.isSafari[0] || Vi.isIpadOS[0] || Vi.isIos[0]) &&
          'video/webm' === e
        )
          return !1
        if (e && t) {
          let i
          try {
            i = n.canPlayType(`${e}; codecs="${t}"`)
          } catch (r) {
            return (i = n.canPlayType(e)), 'probably' === i
          }
          if ('' !== i) return !0
        } else if (e && !t) {
          if ('' !== n.canPlayType(e)) return !0
        }
      }
      return !1
    }
  }
  class Li {
    static _getStyleAttributeData(e, t) {
      let n = 0
      const r = window.getComputedStyle(e, null)
      return (
        r && ((n = r.getPropertyValue(t)), (n = n.toString().toLowerCase())),
        parseFloat(n)
      )
    }
    static getWidth(e) {
      return e
        ? Number.isFinite(e.offsetWidth) && 0 !== e.offsetWidth
          ? e.offsetWidth
          : Li._getStyleAttributeData(e, 'width')
        : 0
    }
    static getHeight(e) {
      return e
        ? Number.isFinite(e.offsetHeight) && 0 !== e.offsetHeight
          ? e.offsetHeight
          : Li._getStyleAttributeData(e, 'height')
        : 0
    }
    static show(e) {
      e && (e.style.display = 'block')
    }
    static hide(e) {
      e && (e.style.display = 'none')
    }
    static get consoleStyle() {
      return 'color: white; background-color: #00ACC1; padding:1px 3px; border-radius: 3px; margin-right: 7px'
    }
    static get consoleStyle2() {
      return 'color: white; background-color: #FB8C00; padding:1px 3px; border-radius: 3px; margin-right: 7px'
    }
    static get consolePrepend() {
      return navigator &&
        navigator.userAgent &&
        /(edge|xbox|msie|trident)/i.test(navigator.userAgent)
        ? 'RMP-VAST:'
        : '%crmp-vast%c'
    }
    static logVideoEvents(e, t) {
      ;[
        'loadstart',
        'durationchange',
        'playing',
        'waiting',
        'loadedmetadata',
        'loadeddata',
        'canplay',
        'canplaythrough',
      ].forEach((t) => {
        e.addEventListener(t, (e) => {
          e && e.type
        })
      })
    }
    static ajax(e, t, n, r = 0) {
      return new Promise((i, a) => {
        const o = new XMLHttpRequest()
        o.open('GET', e, !0),
          (o.timeout = t),
          n && (o.withCredentials = !0),
          (o.onloadend = () => {
            'number' == typeof o.status && o.status >= 200 && o.status < 300
              ? i('XMLHttpRequest request succeeded')
              : r < 1 || 'number' != typeof r
                ? a(`XMLHttpRequest wrong status code: ${o.status}`)
                : Li.ajax(e, t, n, r - 1)
          }),
          (o.ontimeout = () => {
            r < 1 || 'number' != typeof r
              ? a('XMLHttpRequest timeout')
              : Li.ajax(e, t, n, r - 1)
          }),
          o.send(null)
      })
    }
  }
  class Oi {
    static _dispatch(e) {
      const t = this.trackingTags.filter((t) => e === t.event)
      t.length > 0 &&
        t.forEach((e) => {
          Oi.pingURI.call(this, e.url)
        })
    }
    static _vastReadableTime(e) {
      if (!Number.isFinite(e) || e < 0) return '00:00:00.000'
      const t = (e, t = 2) => String(e).padStart(t, '0'),
        n = t(Math.floor(e % 1e3), 3)
      let r = Math.floor(e / 1e3)
      const i = Math.floor(r / 60),
        a = Math.floor(i / 60)
      r %= 60
      const o = t(r),
        s = t(i % 60)
      return `${t(a > 23 ? 0 : a)}:${s}:${o}.${n}`
    }
    static _ping(e) {
      Li.ajax(e, this.params.ajaxTimeout, !1, 2)
        .then(() => {})
        .catch((e) => {})
    }
    static _onVolumeChange() {
      this.__adPlayer.muted || 0 === this.__adPlayer.volume
        ? (Ui.createApiEvent.call(this, 'advolumemuted'),
          Oi.dispatch.call(this, 'mute'))
        : !this.__adPlayer.muted &&
          this.__adPlayer.volume > 0 &&
          Oi.dispatch.call(this, 'unmute'),
        Ui.createApiEvent.call(this, 'advolumechanged')
    }
    static _onTimeupdate() {
      let e = -1,
        t = -1
      this.rmpVastAdPlayer &&
        ((t = this.rmpVastAdPlayer.currentTime),
        (e = this.rmpVastAdPlayer.duration)),
        t > 0 &&
          e > 0 &&
          e > t &&
          (t >= 0.25 * e && !this.firstQuartileEventFired
            ? ((this.firstQuartileEventFired = !0),
              Ui.createApiEvent.call(this, 'adfirstquartile'),
              Oi.dispatch.call(this, 'firstQuartile'))
            : t >= 0.5 * e && !this.midpointEventFired
              ? ((this.midpointEventFired = !0),
                Ui.createApiEvent.call(this, 'admidpoint'),
                Oi.dispatch.call(this, 'midpoint'))
              : t >= 0.75 * e &&
                !this.thirdQuartileEventFired &&
                ((this.thirdQuartileEventFired = !0),
                Ui.createApiEvent.call(this, 'adthirdquartile'),
                Oi.dispatch.call(this, 'thirdQuartile')),
          t >= 2e3 &&
            !this.progressEventFired &&
            ((this.progressEventFired = !0),
            Ui.createApiEvent.call(this, 'adprogress'),
            Oi.dispatch.call(this, 'progress-2')),
          Object.entries(this.params.timeEvents).forEach(([n, r]) => {
            if (!this.timeEventsFired[n]) {
              ;((r < 0 && t >= e + r) || (r >= 0 && t >= r)) &&
                ((this.timeEventsFired[n] = !0),
                Ui.createApiEvent.call(this, n))
            }
          }))
    }
    static _onPause() {
      if (this.__adPlayer && this.__adPlayer.paused) {
        if (this.__adPlayer.currentTime === this.__adPlayer.duration) return
        Ui.createApiEvent.call(this, 'adpaused'),
          Oi.dispatch.call(this, 'pause')
      }
    }
    static _onPlay() {
      this.__adPlayer &&
        !this.__adPlayer.paused &&
        0 !== this.__adPlayer.currentTime &&
        (Ui.createApiEvent.call(this, 'adresumed'),
        Oi.dispatch.call(this, 'resume'))
    }
    static _onPlaying() {
      Ui.createApiEvent.call(this, ['adimpression', 'adstarted']),
        Oi.dispatch.call(this, ['start', 'creativeView', 'impression'])
    }
    static _onEnded() {
      Ui.createApiEvent.call(this, 'adcomplete'),
        Oi.dispatch.call(this, 'complete'),
        this.rmpVastAdPlayer &&
          (this.params.pauseOnEnd
            ? this.__adPlayer.pause()
            : this.rmpVastAdPlayer.destroy())
    }
    static replaceMacros(e) {
      if (!/\[.+?\]/i.test(e)) return e
      let t = e
      const n = /\[TIMESTAMP\]/gi,
        r = new Date().toISOString()
      n.test(t) && (t = t.replace(n, encodeURIComponent(r)))
      const i = /\[MEDIAPLAYHEAD\]/gi
      let a = -1
      return (
        this.rmpVastAdPlayer && (a = this.rmpVastAdPlayer.currentTime),
        i.test(t) &&
          a > -1 &&
          (t = t.replace(i, encodeURIComponent(Oi._vastReadableTime(a)))),
        t
      )
    }
    static pingURI(e) {
      const t = Oi.replaceMacros.call(this, e)
      Oi._ping.call(this, t)
    }
    static error(e, t) {
      let n = this.adErrorTags
      303 === e &&
        this.vastErrorTags.length > 0 &&
        (n = [...n, ...this.vastErrorTags]),
        n.length > 0 &&
          n.forEach((n) => {
            if (n.url) {
              let r = n.url
              const i = /\[ERRORCODE\]/gi
              if (
                (i.test(r) &&
                  Number.isFinite(e) &&
                  e > 0 &&
                  e < 1e3 &&
                  (r = r.replace(i, e)),
                t)
              ) {
                const e = JSON.stringify(t),
                  n = encodeURIComponent(e),
                  i = `${r}${-1 !== r.indexOf('?') ? '&' : '?'}extra=${n}`
                r = i
              }
              Oi._ping.call(this, r)
            }
          })
    }
    static dispatch(e) {
      Array.isArray(e)
        ? e.forEach((e) => {
            Oi._dispatch.call(this, e)
          })
        : Oi._dispatch.call(this, e)
    }
    static destroy() {
      this.__adPlayer &&
        (this.__adPlayer.removeEventListener('pause', this.onPauseFn),
        this.__adPlayer.removeEventListener('play', this.onPlayFn),
        this.__adPlayer.removeEventListener('playing', this.onPlayingFn),
        this.__adPlayer.removeEventListener('ended', this.onEndedFn),
        this.__adPlayer.removeEventListener(
          'volumechange',
          this.onVolumeChangeFn
        ),
        this.__adPlayer.removeEventListener('timeupdate', this.onTimeupdateFn))
    }
    static wire() {
      this.__adPlayer &&
        this.creative.isLinear &&
        !this.rmpVastVpaidPlayer &&
        ((this.onPauseFn = Oi._onPause.bind(this)),
        this.__adPlayer.addEventListener('pause', this.onPauseFn),
        (this.onPlayFn = Oi._onPlay.bind(this)),
        this.__adPlayer.addEventListener('play', this.onPlayFn),
        (this.onPlayingFn = Oi._onPlaying.bind(this)),
        this.__adPlayer.addEventListener('playing', this.onPlayingFn, {
          once: !0,
        }),
        (this.onEndedFn = Oi._onEnded.bind(this)),
        this.__adPlayer.addEventListener('ended', this.onEndedFn, { once: !0 }),
        (this.onVolumeChangeFn = Oi._onVolumeChange.bind(this)),
        this.__adPlayer.addEventListener('volumechange', this.onVolumeChangeFn),
        (this.onTimeupdateFn = Oi._onTimeupdate.bind(this)),
        this.__adPlayer.addEventListener('timeupdate', this.onTimeupdateFn))
    }
  }
  class Ui {
    static _updateVastError(e) {
      const t = [
          201, 204, 205, 400, 401, 402, 403, 501, 502, 503, 603, 901, 1002,
        ],
        n = [303, 900, 1001],
        r = [
          {
            code: 201,
            description: 'Video player expecting different linearity.',
          },
          {
            code: 303,
            description: 'No VAST response after one or more Wrappers.',
          },
          {
            code: 400,
            description:
              'General Linear error. Video player is unable to display the Linear Ad.',
          },
          {
            code: 401,
            description:
              'File not found. Unable to find Linear/MediaFile from URI.',
          },
          { code: 402, description: 'Timeout of MediaFile URI.' },
          {
            code: 403,
            description:
              'Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.',
          },
          {
            code: 501,
            description:
              'Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large).',
          },
          {
            code: 502,
            description: 'Unable to fetch NonLinearAds/NonLinear resource.',
          },
          {
            code: 503,
            description:
              'Could not find NonLinear resource with supported type.',
          },
          {
            code: 603,
            description: 'Unable to fetch CompanionAds/Companion resource.',
          },
          { code: 900, description: 'Undefined Error.' },
          { code: 901, description: 'General VPAID error.' },
          { code: 1001, description: 'Invalid input for loadAds method' },
          {
            code: 1002,
            description: 'Required DOMParser API is not available',
          },
        ].filter((t) => t.code === e)
      r.length > 0
        ? ((this.__vastErrorCode = r[0].code),
          (this.__adErrorMessage = r[0].description))
        : ((this.__vastErrorCode = -1),
          (this.__adErrorMessage = 'Error getting VAST error')),
        this.__vastErrorCode > -1 &&
          (n.indexOf(this.__vastErrorCode) > -1
            ? (this.__adErrorType = 'adLoadError')
            : t.indexOf(this.__vastErrorCode) > -1 &&
              (this.__adErrorType = 'adPlayError'))
    }
    static filterParams(e) {
      if (
        ((this.params = {
          ajaxTimeout: 5e3,
          creativeLoadTimeout: 8e3,
          ajaxWithCredentials: !1,
          maxNumRedirects: 4,
          vastXmlInput: !1,
          enableVpaid: !1,
          pauseOnEnd: !1,
          timeEvents: {},
          clickThroughElementId: '',
        }),
        e && 'object' == typeof e)
      ) {
        Object.keys(e).forEach((t) => {
          typeof e[t] == typeof this.params[t] &&
            ((Number.isFinite(e[t]) && e[t] > 0) || 'number' != typeof e[t]) &&
            (this.params[t] = e[t])
        })
      }
    }
    static createApiEvent(e) {
      Array.isArray(e)
        ? e.forEach((e) => {
            e && this.dispatch(e)
          })
        : e && this.dispatch(e)
    }
    static playPromise(e, t) {
      let n
      switch (e) {
        case 'content':
          n = this.__contentPlayer
          break
        case 'vast':
          n = this.__adPlayer
      }
      if (n) {
        const r = n.play()
        void 0 !== r &&
          r
            .then(() => {
              t && Ui.createApiEvent.call(this, 'adinitialplayrequestsucceeded')
            })
            .catch((n) => {
              console.warn(n),
                t && 'vast' === e && this.creative.isLinear
                  ? (Ui.createApiEvent.call(this, 'adinitialplayrequestfailed'),
                    this.rmpVastAdPlayer.appendPlayButton())
                  : t &&
                    'content' === e &&
                    !this.creative.isLinear &&
                    Ui.createApiEvent.call(this, 'adinitialplayrequestfailed')
            })
      }
    }
    static initInstanceVariables() {
      ;(this.adContainer = null),
        (this.contentWrapper = null),
        (this.container = null),
        (this.rmpVastContentPlayer = null),
        (this.rmpVastAdPlayer = null),
        (this.currentContentSrc = ''),
        (this.currentContentCurrentTime = -1),
        (this.params = {}),
        (this.events = {}),
        (this.adPod = !1),
        (this.adPodLength = 0),
        (this.__contentPlayer = null),
        (this.__adPlayer = null),
        (this.__initialized = !1),
        (this.__contentPlayerCompleted = !1)
    }
    static resetVariablesForNewLoadAds() {
      this.off('adstarted', this.attachViewableObserverFn),
        (this.onPauseFn = null),
        (this.onPlayFn = null),
        (this.onPlayingFn = null),
        (this.onEndedFn = null),
        (this.onVolumeChangeFn = null),
        (this.onTimeupdateFn = null),
        (this.trackingTags = []),
        (this.vastErrorTags = []),
        (this.adErrorTags = []),
        (this.firstQuartileEventFired = !1),
        (this.midpointEventFired = !1),
        (this.progressEventFired = !1),
        (this.thirdQuartileEventFired = !1),
        (this.needsSeekAdjust = !1),
        (this.seekAdjustAttached = !1),
        (this.ad = {}),
        (this.creative = {}),
        (this.attachViewableObserverFn = null),
        (this.viewableObserver = null),
        (this.viewablePreviousRatio = 0.5),
        (this.progressEvents = []),
        (this.rmpVastLinearCreative = null),
        (this.rmpVastVpaidPlayer = null),
        (this.adParametersData = ''),
        (this.__vastErrorCode = -1),
        (this.__adErrorType = ''),
        (this.__adErrorMessage = ''),
        (this.__adOnStage = !1),
        (this.timeEventsFired = {}),
        (this.clickThroughElement = null)
    }
    static processVastErrors(e, t, n) {
      t && Oi.error.call(this, e, n),
        Ui._updateVastError.call(this, e),
        Ui.createApiEvent.call(this, 'aderror'),
        this.rmpVastAdPlayer && this.rmpVastAdPlayer.destroy()
    }
  }
  class Di {
    constructor(e) {
      ;(this._rmpVast = e),
        (this._params = e.params),
        (this._container = e.container),
        (this._adContainer = e.adContainer),
        (this._adPlayer = e.__adPlayer),
        (this._contentPlayer = e.__contentPlayer),
        (this._firstAdPlayerPlayRequest = !0),
        (this._skippableAdCanBeSkipped = !1),
        (this._onTimeupdateCheckSkipFn = null),
        (this._onDurationChangeFn = null),
        (this._onLoadedmetadataPlayFn = null),
        (this._onContextMenuFn = null),
        (this._onPlaybackErrorFn = null),
        (this._onInteractionOpenClickThroughUrlFn = null),
        (this._creativeLoadTimeoutCallback = null)
    }
    get skippableAdCanBeSkipped() {
      return this._skippableAdCanBeSkipped
    }
    _onDurationChange() {
      let e = -1
      if (
        (this._rmpVast.rmpVastAdPlayer &&
          (e = this._rmpVast.rmpVastAdPlayer.duration),
        Ui.createApiEvent.call(this._rmpVast, 'addurationchange'),
        -1 === e)
      )
        return
      Object.keys(this._rmpVast.creative.trackingEvents).forEach((t) => {
        if (/progress-/i.test(t)) {
          const n = t.split('-')[1]
          if (/%/i.test(n)) {
            let r = n.slice(0, -1)
            r = (e * parseFloat(r)) / 100
            this._rmpVast.creative.trackingEvents[t].forEach((e) => {
              this._rmpVast.progressEvents.push({ time: r, url: e })
            })
          } else {
            this._rmpVast.creative.trackingEvents[t].forEach((e) => {
              this._rmpVast.progressEvents.push({
                time: 1e3 * parseFloat(n),
                url: e,
              })
            })
          }
        }
      }),
        this._rmpVast.progressEvents.length > 0 &&
          this._rmpVast.progressEvents.sort((e, t) => e.time - t.time)
    }
    _onLoadedmetadataPlay() {
      clearTimeout(this._creativeLoadTimeoutCallback),
        this._adPlayer &&
          (this._contentPlayer.muted
            ? (this._adPlayer.muted = !0)
            : (this._adPlayer.muted = !1)),
        Li.show(this._adContainer),
        Li.show(this._adPlayer),
        (this._rmpVast.__adOnStage = !0),
        this._rmpVast.rmpVastAdPlayer &&
          (this._rmpVast.rmpVastAdPlayer.play(this._firstAdPlayerPlayRequest),
          (this._firstAdPlayerPlayRequest = !1)),
        Ui.createApiEvent.call(this._rmpVast, 'adloaded'),
        Oi.dispatch.call(this._rmpVast, 'loaded')
    }
    _onInteractionOpenClickThroughUrl(e) {
      e && e.stopPropagation(),
        Ui.createApiEvent.call(this._rmpVast, 'adclick'),
        Oi.dispatch.call(this._rmpVast, 'clickthrough')
    }
    _onPlaybackError(e) {
      if (e && e.target) {
        const t = e.target
        if (t.error && Number.isFinite(t.error.code)) {
          const e = t.error.code
          let n = ''
          'string' == typeof t.error.message && (n = t.error.message)
          if (4 === e) {
            const e = {
              errorCode: t.error.code,
              errorMessage: t.error.message,
              videoNetworkState: t.networkState,
              videoReadyState: t.readyState,
              videoSrc: t.src,
              videoCurrentSrc: t.currentSrc,
            }
            Ui.processVastErrors.call(this._rmpVast, 401, !0, e)
          }
        }
      }
    }
    _onContextMenu(e) {
      e && (e.stopPropagation(), e.preventDefault())
    }
    _onTimeupdateCheckSkip() {
      const e = this._adPlayer.currentTime
      Number.isFinite(e) &&
        e > 0 &&
        e >= this._rmpVast.creative.skipoffset &&
        (this._adPlayer.removeEventListener(
          'timeupdate',
          this._onTimeupdateCheckSkipFn
        ),
        (this._skippableAdCanBeSkipped = !0),
        Ui.createApiEvent.call(this._rmpVast, 'adskippablestatechanged'))
    }
    destroy() {
      clearTimeout(this._creativeLoadTimeoutCallback),
        this._adPlayer &&
          (this._adPlayer.removeEventListener(
            'click',
            this._onInteractionOpenClickThroughUrlFn
          ),
          this._adPlayer.removeEventListener(
            'timeupdate',
            this._onTimeupdateCheckSkipFn
          ),
          this._adPlayer.removeEventListener(
            'durationchange',
            this._onDurationChangeFn
          ),
          this._adPlayer.removeEventListener(
            'loadedmetadata',
            this._onLoadedmetadataPlayFn
          ),
          this._adPlayer.removeEventListener(
            'contextmenu',
            this._onContextMenuFn
          ),
          this._adPlayer.removeEventListener('error', this._onPlaybackErrorFn)),
        this._contentPlayer.removeEventListener(
          'error',
          this._onPlaybackErrorFn
        ),
        this.clickThroughElement &&
          this.clickThroughElement.removeEventListener(
            'click',
            this._onInteractionOpenClickThroughUrlFn
          )
    }
    update(e, t) {
      if (
        ((this._onDurationChangeFn = this._onDurationChange.bind(this)),
        this._adPlayer.addEventListener(
          'durationchange',
          this._onDurationChangeFn,
          { once: !0 }
        ),
        (this._onLoadedmetadataPlayFn = this._onLoadedmetadataPlay.bind(this)),
        this._adPlayer.addEventListener(
          'loadedmetadata',
          this._onLoadedmetadataPlayFn,
          { once: !0 }
        ),
        (this._onContextMenuFn = this._onContextMenu.bind(this)),
        this._adPlayer.addEventListener('contextmenu', this._onContextMenuFn),
        (this._onPlaybackErrorFn = this._onPlaybackError.bind(this)),
        (this._creativeLoadTimeoutCallback = setTimeout(() => {
          const e = this._adPlayer,
            t = {
              videoNetworkState: e.networkState,
              videoReadyState: e.readyState,
              videoSrc: e.src,
              videoCurrentSrc: e.currentSrc,
            }
          Ui.processVastErrors.call(this._rmpVast, 402, !0, t)
        }, this._params.creativeLoadTimeout)),
        this._adPlayer.addEventListener('error', this._onPlaybackErrorFn),
        (this._adPlayer.src = e),
        this._adPlayer.load(),
        (this._onInteractionOpenClickThroughUrlFn =
          this._onInteractionOpenClickThroughUrl.bind(this)),
        this._rmpVast.creative.clickThroughUrl)
      ) {
        if (
          ((this.clickThroughElement =
            this._params.clickThroughElementId &&
            this._container
              .getRootNode()
              .querySelector(
                `#${CSS.escape(this._params.clickThroughElementId)}`
              )),
          !this.clickThroughElement)
        )
          throw new Error('clickThroughElementId is not valid')
        this.clickThroughElement.addEventListener(
          'click',
          this._onInteractionOpenClickThroughUrlFn
        )
      }
      this._rmpVast.creative.isSkippableAd &&
        ((this._onTimeupdateCheckSkipFn =
          this._onTimeupdateCheckSkip.bind(this)),
        this._adPlayer.addEventListener(
          'timeupdate',
          this._onTimeupdateCheckSkipFn
        ))
    }
    parse(e) {
      const t = e.mediaFiles
      if (0 === t.length) return
      const n = 'hvc1',
        r = 'avc1.4d401f',
        i = 'vp9',
        a = (e) => {
          if (e.codec && e.mimeType) return e.codec
          if ('video/mp4' === e.mimeType && e.fileURL.endsWith('-x265.mp4'))
            return n
          if (e.mimeType)
            switch (e.mimeType) {
              case 'video/mp4':
                return r
              case 'video/webm':
                return i
              default:
                return null
            }
          return null
        },
        o = ['video/mp4', 'video/webm'],
        s = t.filter(
          (e) =>
            null !== e.fileURL &&
            null !== e.mimeType &&
            o.includes(e.mimeType) &&
            ((e) => {
              const t = a(e)
              return !!t && Vi.checkCanPlayType(e.mimeType, t)
            })(e)
        )
      if (0 === s.length) {
        const e = t.findAll((e) => 'video/mp4' === e.mimeType && a(e) === r)
        s.push(...e)
      }
      const l = (e) => {
          const { width: t, height: o, bitrate: s } = e
          if (s) return s
          return { [r]: 87e-5, [i]: 61e-5, [n]: 76e-5 }[a(e)] * t * o
        },
        c = new Ii(),
        d = c.bandwidthData.estimate > -1,
        u = (e) => {
          const { width: t, height: n } = e
          let r = 1
          if (d) {
            const t = Math.round(1e3 * c.bandwidthData.estimate)
            r *= Math.min(t / l(e), 1)
          }
          if (t && n) {
            const e = Math.min(
              t / (Li.getWidth(this._container) * Vi.devicePixelRatio),
              n / (Li.getHeight(this._container) * Vi.devicePixelRatio)
            )
            r *= Math.min(1, e)
          }
          return r
        }
      let p,
        h = 0
      for (let _ = 0; _ < s.length; _++) {
        const e = u(s[_])
        e > h
          ? ((h = e), (p = s[_]))
          : e === h && (p = l(s[_]) < l(p) ? s[_] : p)
      }
      ;(this._rmpVast.creative.mediaUrl = p.fileURL),
        (this._rmpVast.creative.height = p.height),
        (this._rmpVast.creative.width = p.width),
        (this._rmpVast.creative.type = p.mimeType),
        this._rmpVast.rmpVastAdPlayer &&
          this._rmpVast.rmpVastAdPlayer.append(p.fileURL, p.mimeType)
    }
  }
  class Fi {
    constructor(e) {
      ;(this.eventName = e), (this.callbacks = [])
    }
    registerCallback(e) {
      this.callbacks.push(e)
    }
    unregisterCallback(e) {
      const t = this.callbacks.indexOf(e)
      t > -1 && this.callbacks.splice(t, 1)
    }
    fire(e) {
      this.callbacks.slice(0).forEach((t) => {
        t(e)
      })
    }
  }
  class Bi {
    constructor(e) {
      d(this, '_rmpVast'),
        (this._rmpVast = e),
        (this._params = e.params),
        (this._adContainer = e.adContainer),
        (this._contentWrapper = e.contentWrapper),
        (this._adPlayer = null),
        (this._onTimeUpdateFn = null),
        (this._onProgressFn = null),
        (this._onPlayButtonClickFn = null)
    }
    destroy() {
      this._rmpVast.rmpVastLinearCreative &&
        this._rmpVast.rmpVastLinearCreative.destroy(),
        this._onTimeUpdateFn &&
          this._adPlayer.removeEventListener(
            'timeupdate',
            this._onTimeUpdateFn
          ),
        this._onProgressFn &&
          this._adPlayer.removeEventListener('progress', this._onProgressFn),
        this._onPlayButtonClickFn &&
          this._adPlayer.removeEventListener(
            'click',
            this._onPlayButtonClickFn
          ),
        Oi.destroy.call(this._rmpVast),
        Li.hide(this._adContainer)
      try {
        this._adPlayer &&
          (this._adPlayer.pause(),
          this._adPlayer.removeAttribute('src'),
          this._adPlayer.load(),
          Li.hide(this._adPlayer))
      } catch (e) {
        console.warn(e)
      }
      Ui.resetVariablesForNewLoadAds.call(this._rmpVast),
        Ui.createApiEvent.call(this._rmpVast, 'addestroyed')
    }
    init() {
      ;(this._rmpVast.adContainer = this._adContainer =
        document.createElement('div')),
        (this._adContainer.className = 'rmp-ad-container'),
        this._contentWrapper.appendChild(this._adContainer),
        Li.hide(this._adContainer),
        (this._rmpVast.__adPlayer = this._adPlayer =
          this._rmpVast.__contentPlayer),
        Li.logVideoEvents(this._adPlayer, 'ad'),
        Vi.isMobile && this._adPlayer.load(),
        (Vi.isIos[0] || Vi.isMacOS[0] || Vi.isIpadOS || Vi.isMacOS[0]) &&
          ((this._onTimeUpdateFn = this._onTimeUpdate.bind(this)),
          this._adPlayer.addEventListener('timeupdate', this._onTimeUpdateFn),
          (this._onProgressFn = this._onProgress.bind(this)),
          this._adPlayer.addEventListener('progress', this._onProgressFn)),
        (this._rmpVast.__initialized = !0)
    }
    append(e, t) {
      if (!this._adPlayer) throw new Error('AdPlayer: missing ad player')
      e &&
        t &&
        this._rmpVast.rmpVastLinearCreative &&
        this._rmpVast.rmpVastLinearCreative.update(e, t),
        Oi.wire.call(this._rmpVast)
    }
    appendPlayButton() {
      const e = document.createElement('div')
      ;(e.className = 'rmp-ad-container-play-button'),
        (e.style.cssText =
          'width: 136px; height: 136px; border-radius: 100%; background-color: rgb(255 255 255 / 12%); position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); display: flex; justify-content: center; align-items: center;'),
        e.setAttribute('data-testid', 'play-button')
      const t = document.createElement('img')
      ;(t.src =
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7dztcdNAEIDhNUMBKcHpIKkAUgFDBTgV4FRgUwGhAkMFmApsKiBUIHUAHSy7IzyRE9uxpDt93fvM7Ezy9/bjzmdZIgAAAAAAAAAAjIOqXlls9JH/PRXE5wtt8UcPW5GIyJ5U/iGZxQdBHHo+T8Q7QVha3UoZS+FofUtBc9pMpuwPzWgY35WxVI+G9ZlEVKThZTqisTSRyHzFJI7c4mYymeQyYK9kuKYW3g0rxtIJ2g6/6lgKntN2ZcqxdZ92Y6UDGUtD3oTP8cni3jbqv5Iq7V6mPR5LY++AsgeL9307tg75GFrVlfTw2JpSAnZmFpu+jKWURtAhucXcxtIP6UiKHVA2tVh3OZZST8DOTIr9YSktIwH7Fm0fW1PfA05ZW9zFPraSgJfdW3yJlQgScJ7cYmlJ+CaBkYBqcgn8JRCbcDVTKU5LcwmEDqjHb1cvQ9yy0gH1XFgEeYySBHSMBNT3WwIgAfV8tfn/IAGQgOr8g9mdBPJacK7cYmaV/1MCogPO41V/HXrxHR1wWi4Rqr6MDjguWtWX0QHP+elmHnvhd+iAfX7jed3W4js6oLCV4suXIGf7KlLvAL9M83Fz08Xiu5Q7YGtx2/WTcil2QLnqc+lYah2wlR5UfVkqHdCrqi9LoQO20rOqLxtzB/S26svG2gH+UNXtEH4ZM7YE+IL7wq9lIMY0gvzy7HJIi+/G0AG5RL4yHjSNy1/ecSE4TuPILN4IXqbhUfVVaDiZUvXVaRhUfV3azC+l6pvR+haC5rS6jcWVIIwKC+8vXfooCEuPv7j7adVPBeHZwi6o+o5p8eJVqv6A6L8R29Hizehv//+75vIMAAAAAAAAAIDW/AMZppzFSmxZ4wAAAABJRU5ErkJggg=='),
        (t.width = 96),
        (t.height = 96),
        e.appendChild(t),
        this._adContainer.appendChild(e),
        (this._onPlayButtonClickFn = this._onPlayButtonClick.bind(this)),
        this._adPlayer.addEventListener('click', this._onPlayButtonClickFn, {
          once: !0,
        })
      const n = setTimeout(() => {
        Ui.processVastErrors.call(this, 400, !0)
      }, 8e3)
      this._adPlayer.addEventListener(
        'playing',
        () => {
          e.remove(), clearTimeout(n)
        },
        { once: !0 }
      )
    }
    _onPlayButtonClick() {
      this._adPlayer.play()
      const e = this._adContainer.querySelector('.rmp-ad-container-play-button')
      e && e.remove()
    }
    _onTimeUpdate() {
      this.lastBufferedTime < this._adPlayer.currentTime &&
        this._adPlayer.pause()
    }
    _onProgress() {
      this.lastBufferedTime > this._adPlayer.currentTime &&
        this._adPlayer.paused &&
        this._adPlayer.play()
    }
    set volume(e) {
      this._adPlayer && (this._adPlayer.volume = e)
    }
    get volume() {
      return this._adPlayer ? this._adPlayer.volume : -1
    }
    set muted(e) {
      this._adPlayer &&
        (e && !this._adPlayer.muted
          ? (this._adPlayer.muted = !0)
          : !e && this._adPlayer.muted && (this._adPlayer.muted = !1))
    }
    get muted() {
      return !!this._adPlayer && this._adPlayer.muted
    }
    get duration() {
      return this._adPlayer && Number.isFinite(this._adPlayer.duration)
        ? 1e3 * this._adPlayer.duration
        : -1
    }
    get currentTime() {
      return this._adPlayer && Number.isFinite(this._adPlayer.currentTime)
        ? 1e3 * this._adPlayer.currentTime
        : -1
    }
    get lastBufferedTime() {
      if (this._adPlayer.buffered && this._adPlayer.buffered.length > 0) {
        const e = this._adPlayer.buffered
          ? this._adPlayer.buffered.end(this._adPlayer.buffered.length - 1)
          : void 0
        if (void 0 !== e) return e
      }
      return 1 / 0
    }
    play(e) {
      this._adPlayer &&
        this._adPlayer.paused &&
        Ui.playPromise.call(this._rmpVast, 'vast', e)
    }
    pause() {
      this._adPlayer && !this._adPlayer.paused && this._adPlayer.pause()
    }
  }
  class Mi {
    constructor(e, t) {
      d(this, 'rmpVastAdPlayer'),
        d(this, 'rmpVastLinearCreative'),
        Ui.initInstanceVariables.call(this),
        e instanceof HTMLElement &&
          ((this.container = e),
          (this.contentWrapper = this.container.querySelector('.rmp-content')),
          (this.__contentPlayer = this.container.querySelector('.rmp-video')),
          null !== this.container &&
            null !== this.contentWrapper &&
            null !== this.__contentPlayer &&
            (Ui.resetVariablesForNewLoadAds.call(this),
            Ui.filterParams.call(this, t)))
    }
    dispatch(e, t) {
      const n = this.events[e]
      if (n) {
        const r = { type: e }
        t && (r.data = t), n.fire(r)
      }
    }
    _on(e, t) {
      let n = this.events[e]
      n || ((n = new Fi(e)), (this.events[e] = n)), n.registerCallback(t)
    }
    on(e, t) {
      if ('string' != typeof e || '' === e || 'function' != typeof t) return
      e.split(' ').forEach((e) => {
        this._on(e, t)
      })
    }
    _off(e, t) {
      const n = this.events[e]
      n &&
        n.callbacks.indexOf(t) > -1 &&
        (n.unregisterCallback(t),
        0 === n.callbacks.length && delete this.events[e])
    }
    off(e, t) {
      if ('string' != typeof e || '' === e || 'function' != typeof t) return
      e.split(' ').forEach((e) => {
        this._off(e, t)
      })
    }
    _addTrackingEvents(e) {
      Object.keys(e).forEach((t) => {
        e[t].forEach((e) => {
          this.trackingTags.push({ event: t, url: e })
        })
      })
    }
    _loopAds(e) {
      for (let t = 0; t < e.length; t++) {
        const n = e[t]
        ;(this.ad.id = n.id),
          (this.ad.adServingId = n.adServingId),
          (this.ad.adType = n.adType),
          (this.ad.title = n.title),
          (this.ad.description = n.description),
          (this.ad.system = n.system),
          n.errorURLTemplates.forEach((e) => {
            this.adErrorTags.push({ event: 'error', url: e })
          }),
          n.impressionURLTemplates.forEach((e) => {
            e.url && this.trackingTags.push({ event: 'impression', url: e.url })
          })
        const r = n.creatives
        for (let e = 0; e < r.length; e++) {
          const t = r[e]
          ;(this.creative.id = t.id),
            (this.creative.universalAdIds = t.universalAdIds),
            (this.creative.adId = t.adId),
            (this.creative.trackingEvents = t.trackingEvents),
            (this.creative.duration = t.duration),
            (this.creative.skipDelay = t.skipDelay),
            this.creative.skipDelay &&
              ((this.creative.skipoffset = t.skipDelay),
              (this.creative.isSkippableAd = !0)),
            t.videoClickThroughURLTemplate &&
              t.videoClickThroughURLTemplate.url &&
              (this.creative.clickThroughUrl =
                t.videoClickThroughURLTemplate.url),
            t.videoClickTrackingURLTemplates.length > 0 &&
              t.videoClickTrackingURLTemplates.forEach((e) => {
                e.url &&
                  this.trackingTags.push({ event: 'clickthrough', url: e.url })
              }),
            (this.creative.isLinear = !0),
            this._addTrackingEvents(t.trackingEvents),
            (this.rmpVastLinearCreative = new Di(this)),
            this.rmpVastLinearCreative.parse(t)
        }
      }
    }
    _handleParsedVast(e) {
      e.errorURLTemplates.length > 0 &&
        e.errorURLTemplates.forEach((e) => {
          this.vastErrorTags.push({ event: 'error', url: e })
        }),
        0 !== e.ads.length
          ? this._loopAds(e.ads)
          : Ui.processVastErrors.call(this, 303, !0)
    }
    _getVastTag(e) {
      if ('string' == typeof e && '' !== e)
        if ('undefined' != typeof DOMParser) {
          if (
            (Ui.createApiEvent.call(this, 'adtagstartloading'),
            !this.params.vastXmlInput)
          )
            throw new Error(
              'VAST XML input is required. VAST loading by URI is not supported'
            )
          {
            let n
            try {
              n = new DOMParser().parseFromString(e, 'text/xml')
            } catch (t) {
              return (
                console.warn(t), void Ui.processVastErrors.call(this, 900, !0)
              )
            }
            new Ri((e, t) => {
              ;('VAST-error' !== e && 'ERROR' !== t.type) ||
                Ui.processVastErrors.call(this, 900, !0)
            })
              .parseVAST(n)
              .then((e) => {
                Ui.createApiEvent.call(this, 'adtagloaded'),
                  this._handleParsedVast(e)
              })
              .catch((e) => {
                console.warn(e), Ui.processVastErrors.call(this, 900, !0)
              })
          }
        } else Ui.processVastErrors.call(this, 1002, !1)
      else Ui.processVastErrors.call(this, 1001, !1)
    }
    loadAds(e) {
      if ((this.__initialized || this.initialize(), this.__adOnStage))
        throw new Error('Creative already on stage, cannot load VAST')
      this._getVastTag(e)
    }
    play() {
      this.__adOnStage &&
        this.creative &&
        this.creative.isLinear &&
        this.rmpVastAdPlayer &&
        this.rmpVastAdPlayer.play()
    }
    pause() {
      this.__adOnStage &&
        this.creative &&
        this.creative.isLinear &&
        this.rmpVastAdPlayer &&
        this.rmpVastAdPlayer.pause()
    }
    destroy() {
      this.rmpVastAdPlayer && this.rmpVastAdPlayer.destroy(),
        Ui.initInstanceVariables.call(this)
    }
    get adPaused() {
      return (
        !!(
          this.__adOnStage &&
          this.creative &&
          this.creative.isLinear &&
          this.__adPlayer
        ) && this.__adPlayer.paused
      )
    }
    set volume(e) {
      if (!Number.isFinite(e)) return
      let t = 0
      ;(t = e < 0 ? 0 : e > 1 ? 1 : e),
        this.__adOnStage &&
          this.creative &&
          this.creative.isLinear &&
          this.rmpVastAdPlayer &&
          (this.rmpVastAdPlayer.volume = t)
    }
    get volume() {
      return this.__adOnStage &&
        this.creative &&
        this.creative.isLinear &&
        this.rmpVastAdPlayer
        ? this.rmpVastAdPlayer.volume
        : -1
    }
    set muted(e) {
      'boolean' == typeof e &&
        this.__adOnStage &&
        this.creative &&
        this.creative.isLinear &&
        this.rmpVastAdPlayer &&
        (this.rmpVastAdPlayer.muted = e)
    }
    get muted() {
      return (
        !(
          this.__adOnStage &&
          this.creative &&
          this.creative.isLinear &&
          this.rmpVastAdPlayer
        ) || this.rmpVastAdPlayer.muted
      )
    }
    get adDuration() {
      return this.__adOnStage &&
        this.creative &&
        this.creative.isLinear &&
        this.rmpVastAdPlayer
        ? this.rmpVastAdPlayer.duration
        : -1
    }
    get adCurrentTime() {
      return this.__adOnStage &&
        this.creative &&
        this.creative.isLinear &&
        this.rmpVastAdPlayer
        ? this.rmpVastAdPlayer.currentTime
        : -1
    }
    get clickThroughUrl() {
      return this.creative && this.creative.clickThroughUrl
        ? this.creative.clickThroughUrl
        : ''
    }
    get isSkippableAd() {
      return !(!this.creative || !this.creative.isSkippableAd)
    }
    get adSkippableState() {
      return (
        !!(
          this.__adOnStage &&
          this.isSkippableAd &&
          this.rmpVastLinearCreative
        ) && this.rmpVastLinearCreative.skippableAdCanBeSkipped
      )
    }
    initialize() {
      this.__initialized ||
        ((this.rmpVastAdPlayer = new Bi(this)), this.rmpVastAdPlayer.init())
    }
  }
  const ji = 'player-container',
    Wi = 'player-video',
    $i =
      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII='
  function Hi({ setPlayerContext: e, playerRef: t, vast: n }) {
    const r = Dr(),
      i = Mt(null),
      a = Tn(),
      o = Wt(
        (e) => {
          const n = t.current
          null !== n && n.adPaused && n.play(),
            e.preventDefault(),
            e.stopPropagation()
        },
        [t]
      )
    return (
      Bt(() => {
        var o, s, l
        null === t.current &&
          null !== i.current &&
          ((t.current = new Mi(i.current, {
            vastXmlInput: !0,
            pauseOnEnd: !0,
            timeEvents: {
              showActionButton: 5e3,
              enableCloseButton: Mr,
              showPackshot: -500,
            },
            clickThroughElementId: $r(r),
          })),
          t.current.initialize(),
          t.current.loadAds(n),
          null == (o = t.current) ||
            o.on('addestroyed', () => {
              Hr.clear()
            }),
          null == (s = t.current) ||
            s.on('adstarted', () => {
              Hr.dispatchEvent('adstarted'), a.emit(ht.onStart)
            }),
          null == (l = t.current) ||
            l.on('aderror', () => {
              a.emit(pt.error)
            }),
          e(t.current))
      }, [a, r, t, e, n]),
      Bt(() => {
        const e = () => {
            var e
            null == (e = t.current) || e.play()
          },
          n = () => {
            var e
            null == (e = t.current) || e.pause()
          },
          r = () => {
            var e
            ;(null == (e = t.current) ? void 0 : e.adPaused) &&
              setTimeout(() => {
                var e
                return null == (e = t.current) ? void 0 : e.play()
              }, 500)
          },
          i = () => {
            var e
            Hr.clear(), null == (e = t.current) || e.destroy()
          }
        return (
          a.on(pt.play, e),
          a.on(pt.pause, n),
          a.on(pt.leave, n),
          a.on(pt.return, r),
          a.on(pt.finalDestroy, i),
          () => {
            a.off(pt.play, e),
              a.off(pt.pause, n),
              a.off(pt.leave, n),
              a.off(pt.return, r),
              a.off(pt.finalDestroy, i)
          }
        )
      }, [a, t]),
      Un('div', {
        className: 'rmp-container adsgram',
        ref: i,
        onClick: o,
        'data-testid': ji,
        children: Un('div', {
          className: 'rmp-content',
          children: Un('video', {
            className: 'rmp-video',
            poster: $i,
            muted: !0,
            playsInline: !0,
            controls: !1,
            disableRemotePlayback: !0,
            disablePictureInPicture: !0,
            'data-testid': Wi,
            preload: 'auto',
          }),
        }),
      })
    )
  }
  const zi = { wrapper: '_wrapper_1t8xa_1' }
  function qi({
    vast: e,
    playerRef: t,
    actionButtonTitle: n,
    image: r,
    hasPackshot: i,
    duration: a,
    title: o,
    description: s,
    kebab: l,
  }) {
    const [c, d] = Ft(null)
    return Un(jr.Provider, {
      value: c,
      children: Un('div', {
        className: zi.wrapper,
        children: [
          Un(li, { kebab: l }),
          Un(zr, { text: n }),
          Un(Hi, { vast: e, playerRef: t, setPlayerContext: d }),
          i && Un(di, { image: r, duration: a, title: o, description: s }),
          Un(Xr, { packshotDuration: a }),
        ],
      }),
    })
  }
  const Zi = {
    [h]: function ({
      vast: e,
      packshotImage: t,
      actionButtonTitle: n,
      title: r,
      description: i,
      kebab: a,
    }) {
      const o = Mt(null),
        s = Nn('FORCED_SUB_FORMAT')
      return (
        Ir(),
        Un('div', {
          className: Or,
          children: Un(qi, {
            vast: e,
            playerRef: o,
            image: t,
            actionButtonTitle: n,
            hasPackshot: !0,
            title: r,
            description: i,
            duration: s ? 15e3 : 5e3,
            kebab: a,
          }),
        })
      )
    },
    [_]: function ({
      image: e,
      title: t,
      description: n,
      advertiserName: r,
      buttonName: i,
      url: a,
      icon: o,
      kebab: s,
    }) {
      const l = Tn(),
        c = Rn(),
        d = Rr('click'),
        p = En() === m.InterstitialFullscreen,
        h = Nn('FORCED_SUB_FORMAT'),
        _ = jt(
          () =>
            new Lr({
              callbacks: {
                endCallback: () => {
                  l.emit(p ? ht.onComplete : ht.onReward)
                },
                3: () => b(!0),
                6: () => g(!0),
                5: () => w(!0),
              },
              endTime: h && !p ? wt : yt,
            }),
          [l, h, p]
        ),
        [f, g] = Ft(!1),
        [v, b] = Ft(!1),
        [y, w] = Ft(!1),
        k = Mt(1 / 0),
        E = Wt(
          (e) => {
            v &&
              (e.isTrusted
                ? (e.preventDefault(),
                  e.stopPropagation(),
                  Pr(d, c),
                  _.stop(),
                  l.emit(pt.leave),
                  (k.current = Date.now()),
                  $n({ url: a, logger: c }))
                : l.emit(ht.onError))
          },
          [v, d, c, _, a, l]
        ),
        x = Mt(null)
      return (
        (function ({ sendTackingTime: e, element: t, preventSend: n }) {
          const r = Rn(),
            i = Tn(),
            a = Rr('show'),
            [o, s] = Ft(!1),
            [l, c] = Ft(!0),
            d = jt(() => new Lr({ endTime: e, callbacks: {} }), [e]),
            p = Nr(t),
            h = jt(
              () => null !== t.current && p && l && Cr(t.current),
              [t, l, p]
            ),
            _ = Wt(
              () =>
                u(this, null, function* () {
                  o || n || (yield Pr(a, r), s(!0))
                }),
              [o, r, n, a]
            ),
            m = Wt(() => {
              h || d.stop()
            }, [h, d])
          Bt(
            () => (
              d.subscribeOnTickUpdate(m),
              d.subscribeOnEnd(_),
              () => {
                d.unsubscribeAll()
              }
            ),
            [_, m, d]
          ),
            Bt(() => {
              d.isStopped && h && d.restart()
            }, [h, d]),
            Bt(() => {
              const e = () => {
                  c(!0)
                },
                t = () => {
                  c(!1)
                }
              return (
                i.on(pt.return, e),
                i.on(pt.leave, t),
                () => {
                  i.off(pt.return, e), i.off(pt.leave, t)
                }
              )
            }, [i])
        })({ sendTackingTime: 2, element: x, preventSend: !1 }),
        (function ({ element: e }) {
          const t = Rn(),
            n = Rr('render'),
            [r, i] = Ft(!1),
            a = Nr(e)
          Bt(() => {
            a && n && !r && (Pr(n, t), i(!0))
          }, [n, r, a, t])
        })({ element: x }),
        Ir(),
        Bt(() => {
          const e = () => {
              _.destroy()
            },
            t = () => {
              _.resume()
            },
            n = () => {
              _.stop()
            },
            r = () => {
              Date.now() - k.current > 1e4 &&
                l.emit(p ? ht.onComplete : ht.onReward),
                (k.current = 1 / 0),
                _.resume()
            }
          return (
            l.on(pt.finalDestroy, e),
            l.on(pt.play, t),
            l.on(pt.pause, n),
            l.on(pt.leave, n),
            l.on(pt.return, r),
            () => {
              l.off(pt.finalDestroy, e),
                l.off(pt.play, t),
                l.off(pt.pause, n),
                l.off(pt.leave, n),
                l.off(pt.return, r)
            }
          )
        }, [l, p, _]),
        Bt(() => {
          l.emit(ht.onStart)
        }, [l]),
        Un('div', {
          className: bt(kt, !1),
          ref: x,
          children: [
            Un(Dn, {}),
            Un('div', {
              className: Et,
              children: [
                Un(gr, {
                  advertiserName: r,
                  title: t,
                  description: n,
                  image: e,
                  icon: o,
                  onClick: E,
                  isClickable: v,
                  kebab: s,
                  isCloseVisible: y,
                }),
                v && Un(kr, { buttonName: i, onClick: E, url: a }),
                f && !p && Un(Ar, {}),
                Un(Yn, { timer: _ }),
              ],
            }),
          ],
        })
      )
    },
  }
  function Gi(e) {
    const {
      blockId: t,
      EventEmitter: n,
      logger: r,
      isDark: i,
      children: a,
      exp: o,
      trackings: s,
      blockType: l,
    } = e
    return Un(Sn.Provider, {
      value: r,
      children: Un(An.Provider, {
        value: n,
        children: Un(Ur.Provider, {
          value: t,
          children: Un(In.Provider, {
            value: i,
            children: Un(Cn.Provider, {
              value: o,
              children: Un(xt.Provider, {
                value: l,
                children: Un(Sr.Provider, { value: s, children: a }),
              }),
            }),
          }),
        }),
      }),
    })
  }
  function Ji(e) {
    const t = {}
    for (const n in e) {
      const { name: r, value: i } = e[n]
      t[r] = i
    }
    return t
  }
  const Yi = {
    [h]: function ({ banner: e }) {
      const { bannerAssets: t } = e,
        {
          title: n,
          description: r,
          buttonName: i,
          buttonImg: a,
          vast: o,
          erid: s,
          regNumber: l,
          legalName: c,
          inn: d,
        } = Ji(t)
      return {
        vast: o,
        packshotImage: a,
        actionButtonTitle: i,
        title: n,
        description: r,
        kebab: { erid: s, regNumber: l, legalName: c, inn: d },
      }
    },
    [_]: function ({ banner: e }) {
      const { bannerAssets: t } = e,
        {
          advertiserName: n,
          buttonName: r,
          title: i,
          description: a,
          icon: o,
          image: s,
          url: l,
          erid: c,
          legalName: d,
          regNumber: u,
          inn: p,
        } = Ji(t)
      return {
        advertiserName: n,
        buttonName: r,
        description: a,
        icon: o,
        image: s,
        url: l,
        title: i,
        kebab: { erid: c, legalName: d, regNumber: u, inn: p },
      }
    },
  }
  class Xi extends ze {
    constructor() {
      super(), (this.state = { hasError: !1 })
    }
    componentDidCatch(e, t) {
      try {
        this.props.logger
          .add('componentStack', null == t ? void 0 : t.componentStack)
          .addError(e)
          .send('ErrorBoundary')
      } catch (n) {}
      this.setState({ hasError: !0 })
    }
    render({ EventEmitter: e }) {
      return this.state.hasError
        ? (e.emit(pt.renderError), null)
        : this.props.children
    }
  }
  function Ki(e) {
    return e && 0 !== e.length ? e.reduce((e, t) => ((e[t] = !0), e), {}) : {}
  }
  function Qi(e) {
    var t
    if (
      'https://127.0.0.1:3000' === window.location.origin ||
      'https://tma.adsgram.ai' === window.location.origin
    ) {
      const e = JSON.parse(
        null != (t = sessionStorage.getItem('flags')) ? t : '[]'
      )
      if (e.length > 0) return Ki(e)
    }
    return l(l({}, Pn), Ki(e))
  }
  function ea({
    data: e,
    bannerType: t,
    blockType: n,
    blockId: r,
    EventEmitter: i,
    logger: a,
    isDark: o,
  }) {
    var s, c
    const d = Zi[t],
      u = Yi[t](e)
    return Un(Gi, {
      blockId: r,
      EventEmitter: i,
      logger: a,
      isDark: o,
      exp: Qi(null == (s = null == e ? void 0 : e.banner) ? void 0 : s.flags),
      trackings: (function (e) {
        if (!e) return
        const t = {}
        for (const n in e) {
          const { name: r, value: i } = e[n]
          t[r] = i
        }
        return t
      })(null == (c = null == e ? void 0 : e.banner) ? void 0 : c.trackings),
      blockType: n,
      children: Un(Xi, {
        EventEmitter: i,
        blockId: r,
        campaignId: e.campaignId,
        logger: a,
        children: Un(d, l({}, u)),
      }),
    })
  }
  function ta(e) {
    if (!(e instanceof HTMLElement))
      throw new ye({ message: `${e} cannot be used to display ads` })
    return !1
  }
  const na =
      '._banner_7zy2f_1{display:flex;flex-direction:column;height:100%;justify-content:space-between;left:0;overflow-y:scroll;position:fixed;top:0;width:100%}._banner_7zy2f_1 button{appearance:none;background:none;box-shadow:none;outline:none;text-decoration:none}._banner_7zy2f_1 button:disabled{background:none}._banner_7zy2f_1::-webkit-scrollbar{display:none}._preview_7zy2f_29{position:static}._wrapper_7zy2f_33{display:flex;flex-direction:column;height:100%;margin:28px 60px 0 0}',
    ra =
      '._banner_dls25_1{left:0;position:fixed;top:0}._banner_dls25_1,._preview_dls25_10{background-color:#000;height:100%;width:100%}._preview_dls25_10{position:absolute}._preview_dls25_10 .rmp-container{border-radius:var(--xs-spacings)}',
    ia =
      '._label_1wd8a_1{border-radius:var(--s-spacing);cursor:pointer;padding:0 var(--xs-spacing);position:relative;width:fit-content;z-index:1}._label_1wd8a_1:before{background-color:var(--adsgram-opacity-button-color);border-radius:var(--s-spacing);content:"";inset:0;position:absolute;z-index:-1}._text_1wd8a_19{color:var(--adsgram-button-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:23px;text-align:center;vertical-align:top}',
    aa =
      '._background_10hof_1{height:100%;left:0;position:fixed;top:0;width:100%}._background_10hof_1:after{background-image:url(https://telegram.org/img/tgme/pattern.svg);background-position:50%;background-repeat:no-repeat;background-size:cover;content:"";position:absolute}._preview_10hof_18{position:absolute}._preview_10hof_18,._preview_10hof_18:after{border-radius:var(--xs-spacing)}._dark_10hof_27{background:var(--adsgram-bg-color,#0f0f0f);background-image:radial-gradient(50% 71.73% at 4.86% 103.14%,#162431 0,#16243133),radial-gradient(43.2% 48.5% at 100% 100%,#0e151d 0,#0e151de6 58.37%,#0e151d00),radial-gradient(64.18% 65.96% at 0 0,#0e151d 0,#0e151d80 78.32%,#0e151d00)}._dark_10hof_27:after{filter:brightness(0) saturate(100%) invert(13%) sepia(9%) saturate(2510%) hue-rotate(168deg) brightness(96%) contrast(87%);inset:0;opacity:.55}._light_10hof_55{background-blend-mode:lighten;background-color:#99ba92;background-image:radial-gradient(64.13% 64.66% at 0 0,#d6d896 0,#d6d89600),radial-gradient(57.75% 64.84% at 100% 100%,#dbddbe 0,#dbddbe00),radial-gradient(49.87% 52.71% at 0 100%,#78a389 0,#78a38900)}._light_10hof_55:after{filter:invert(33%) sepia(5%) saturate(0) hue-rotate(164deg) brightness(99%) contrast(100%);inset:0;mix-blend-mode:soft-light}',
    oa =
      '._footer_1rexv_1{align-items:center;display:flex;flex:1 1 auto;flex-direction:column;gap:var(--xs-spacing);justify-content:end;margin:20px 0 16px 60px}',
    sa =
      '._kebab_lsgwj_1{cursor:pointer;display:flex;position:relative}._hidden_lsgwj_7{visibility:hidden}._icon_lsgwj_11{filter:drop-shadow(1px 1px 1px rgb(0 0 0/15%));height:24px;width:24px}',
    la =
      '._wrapper_6je2u_1{background:var(--adsgram-secondary-bg-color);border-radius:var(--xxs-spacing);box-shadow:0 1px 3px 1px #0000001f;box-sizing:border-box;cursor:default;max-width:220px;padding:6px 16px;position:absolute;width:calc(100vw - 140px)}._legal-info_6je2u_15,._wrapper_6je2u_1{display:flex;flex-direction:column}',
    ca =
      '._item_19dus_1{display:flex;flex-direction:column;gap:var(--xxxs-spacing);margin:var(--xs-spacing) 0;width:100%}._item_19dus_1 span{font-size:var(--text-xs);font-weight:var(--font-medium);line-height:14px}._header_19dus_15{color:var(--adsgram-subtitle-text-color,#82868a);white-space:nowrap}._content_19dus_20{color:var(--adsgram-text-color,#222)}',
    da =
      '._button_1j13t_1{animation-duration:.3s;animation-fill-mode:forwards;animation-name:_show_1j13t_1;animation-timing-function:cubic-bezier(.05,.7,.1,1);background-color:var(--adsgram-button-color);border:1px solid #0000;border-radius:var(--xs-spacing);box-shadow:1px 1px 3px #0003;color:var(--adsgram-button-text-color);cursor:pointer;font-size:var(--text-l);font-weight:var(--font-medium);height:48px;left:50%;line-height:24px;padding:12px 24px;position:absolute;transform:translate(-50%);z-index:3}@keyframes _show_1j13t_1{0%{bottom:10px;opacity:0}to{bottom:30px;opacity:1}}._visible_1j13t_35{animation-play-state:running;visibility:visible}._hidden_1j13t_40{animation-play-state:paused;visibility:hidden}',
    ua =
      '._wrapper_14j31_1{cursor:pointer;display:flex;flex-direction:column;font-size:var(--text-s);font-weight:var(--font-normal);height:100%;letter-spacing:0;line-height:16px;margin:10px 0;text-align:center;width:100%}._adlabeltext_14j31_15{color:#fff9}._adlabel_14j31_15{align-items:center;color:#fff9;display:flex;font-size:var(--text-s);font-weight:var(--font-normal);letter-spacing:0;line-height:16px}._tgchannel_14j31_29{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}',
    pa =
      '._close_e7d2o_1{aspect-ratio:1/1;display:flex;flex-wrap:wrap;height:100%;place-content:center center}._close_e7d2o_1._clickable_e7d2o_9{cursor:pointer}._image_e7d2o_13{animation-duration:.15s;animation-name:_show_e7d2o_1;animation-play-state:running;animation-timing-function:cubic-bezier(0,0,0,1)}@keyframes _show_e7d2o_1{0%{opacity:0}to{opacity:1}}',
    ha =
      '._close_3nvo5_1{aspect-ratio:1/1;display:flex;flex-wrap:wrap;height:100%;place-content:center center}._close_3nvo5_1._clickable_3nvo5_9{cursor:pointer}._image_3nvo5_13{filter:brightness(0) saturate(100%) invert(63%) sepia(0) saturate(1041%) hue-rotate(147deg) brightness(98%) contrast(87%);opacity:.36;transition:.15s ease-out}._close_3nvo5_1._clickable_3nvo5_9 ._image_3nvo5_13{filter:none;opacity:1}',
    _a =
      '._footer_15eel_1{bottom:0;display:flex;justify-content:space-between;position:absolute;width:100%;z-index:3}',
    ma =
      '._header_1ke3p_1{--adsgram-header-height:52px;background:linear-gradient(#00000059,#0000);display:flex;height:var(--adsgram-header-height);justify-content:space-between;position:absolute;top:0;width:100%;z-index:3}._container_1ke3p_14{display:flex;width:var(--adsgram-header-height)}._expanded-header_1ke3p_19 ._container_1ke3p_14{width:calc(var(--adsgram-header-height)*2)}._label-container_1ke3p_23{display:flex;justify-content:center;width:calc(100% - var(--adsgram-header-height)*2)}._expanded-header_1ke3p_19 ._label-container_1ke3p_23{width:calc(100% - var(--adsgram-header-height)*4)}._preview_1ke3p_33{border-radius:8px 8px 0 0}._kebab_1ke3p_37{align-items:center;display:flex;height:var(--adsgram-header-height);justify-content:center;width:var(--adsgram-header-height)}._kebab-content_1ke3p_45{right:40px;top:10px}',
    fa =
      '._packshot_1eu44_1{animation-duration:.2s;animation-name:_packshot_1eu44_1;animation-timing-function:cubic-bezier(0,0,0,1);-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:#141414cc;display:flex;flex-wrap:wrap;height:100%;place-content:center center;position:absolute;top:0;width:100%}@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){._packshot_1eu44_1{-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:#7474804d}}._creatives_1eu44_23{animation-duration:.4s;animation-name:_creatives_1eu44_23;animation-timing-function:cubic-bezier(.05,.7,.1,1);display:flex;flex-direction:column;place-content:center center;position:relative;transform:translateY(-26px);width:280px}._image_1eu44_35{border:1px solid #0000000a;border-radius:20px;box-shadow:0 8px 20px #00000029;height:128px;margin:0 auto 20px;width:128px}._title_1eu44_44{color:#fff;font-size:28px;font-weight:700;letter-spacing:0;line-height:32px;margin:var(--xs-spacing);text-align:center}._description_1eu44_54{color:#fff9;font-size:16px;font-weight:var(--font-medium);letter-spacing:0;line-height:24px;text-align:center}._play_1eu44_63{animation-play-state:running;visibility:visible}._pause_1eu44_68{animation-play-state:paused;visibility:hidden}@keyframes _packshot_1eu44_1{0%{opacity:0}to{opacity:1}}@keyframes _creatives_1eu44_23{0%{opacity:0;top:40px}to{opacity:1;top:0}}',
    ga = '.rmp-container,.rmp-content,.rmp-video{height:100%;width:100%}',
    va =
      '._point_m3ogu_1{background-color:#fff;border-radius:3px;height:6px;opacity:0;position:absolute;top:6px;width:6px}',
    ba =
      '._timeline_1iayw_1{align-content:center;display:flex;flex-wrap:wrap;height:18px;margin:auto var(--xs-spacing);position:relative;width:100%}._bar_1iayw_11{background-color:#ffffff59;border-radius:var(--xxxs-spacing);height:2px;width:100%}._progress_1iayw_18{background-color:#fff;border-radius:var(--xxxs-spacing);height:100%;width:0}',
    ya =
      '._volume_10n0w_1{aspect-ratio:1/1;cursor:pointer;display:flex;flex-wrap:wrap;height:100%;place-content:center center}',
    wa = '._wrapper_1t8xa_1{height:100%;position:relative;width:100%}',
    ka =
      '._post_pofa4_1{animation-duration:.1s;animation-fill-mode:forwards;animation-name:_show_pofa4_1;animation-play-state:running;animation-timing-function:ease-out;display:flex;position:relative}@keyframes _show_pofa4_1{0%{opacity:0}to{opacity:1}}._channel_pofa4_21{align-self:end;cursor:pointer;height:40px;margin:0 4px 0 10px;width:40px}._icon_pofa4_29{background-color:var(--adsgram-secondary-bg-color);border-radius:100%;height:40px;object-fit:cover;width:40px}._tail_pofa4_37{align-self:end;color:var(--adsgram-secondary-bg-color);display:flex;z-index:1}._tail_pofa4_37,._tail_pofa4_37 svg{height:10px;width:6px}._message_pofa4_51{background-color:var(--adsgram-secondary-bg-color);border-radius:18px 18px 7px 0;box-shadow:0 1px 2px #00000029;display:flex;flex-direction:column;position:relative;width:100%}._image_pofa4_61{aspect-ratio:1;border-radius:16px 16px 4px 4px;margin:2px 2px 0;object-fit:cover;width:calc(100% - 4px)}._text_pofa4_69{display:flex;flex-direction:column;font-size:var(--text-m);gap:18px;line-height:18px;margin:var(--xs-spacing);width:calc(100% - 16px)}._title_pofa4_79{font-weight:var(--font-medium);letter-spacing:0}._description_pofa4_87,._title_pofa4_79{color:var(--adsgram-text-color);font-size:var(--text-m);line-height:18px}._description_pofa4_87{font-weight:var(--font-normal)}._footer_pofa4_94{display:flex;justify-content:space-between}._name_pofa4_99{background:none;border:none;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;color:var(--adsgram-hint-color);cursor:default;font-size:var(--text-m);font-weight:var(--font-normal);-webkit-line-clamp:2;line-height:18px;text-align:left;text-decoration:none;text-overflow:ellipsis;transition:color .2s cubic-bezier(.2,0,0,1);word-break:break-word}._clickable_pofa4_118{color:var(--adsgram-link-color);cursor:pointer}._adlabel_pofa4_123{align-self:end;color:var(--adsgram-hint-color);font-size:12px;line-height:16px;transform:translate(-2px,4px);vertical-align:bottom;white-space:nowrap}._kebab_pofa4_133{background:linear-gradient(216deg,#2222220d 25%,#8880 55%);border-radius:0 18px 0 0;padding:8px 4px 16px 16px;position:absolute;right:0}._kebab-content_pofa4_145{right:30px;top:-20px}',
    Ea =
      '._button_1lxao_1{animation-duration:.2s;animation-fill-mode:forwards;animation-name:_show_1lxao_1;animation-play-state:running;animation-timing-function:cubic-bezier(.2,0,0,1);background-color:initial;border:none;border-radius:6px 6px 15px 15px;color:var(--adsgram-button-text-color);cursor:pointer;display:inline-block;font-size:14px;font-weight:var(--font-medium);height:40px;letter-spacing:.03em;line-height:40px;margin:4px 0 0 60px;position:relative;text-align:center;width:calc(100% - 60px);z-index:1}@keyframes _show_1lxao_1{0%{opacity:0;transform:translateY(-20px) scale(.1)}to{opacity:1;transform:translateY(0) scale(1)}}._button_1lxao_1:before{background-color:var(--adsgram-opacity-button-color);border-radius:7px 7px 15px 15px;content:"";inset:0;position:absolute;z-index:-1}._button_1lxao_1:active{animation-fill-mode:none;transform:scale(.95);transition:.1s}._icon_1lxao_52{position:absolute;right:1px;top:1px}',
    xa =
      '._close_19prg_1{align-items:center;animation-duration:.3s;animation-name:_show_19prg_1;animation-play-state:running;animation-timing-function:cubic-bezier(0,0,.46,1.41);cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-44px;top:-2px;width:40px;z-index:1}._image_19prg_18{height:16px;width:16px}._close_19prg_1:before{background-color:var(--adsgram-opacity-button-color);border-radius:var(--l-spacing);content:"";height:28px;position:absolute;width:28px;z-index:-1}@keyframes _show_19prg_1{0%{opacity:0;transform:scale(.1)}to{opacity:1;transform:scale(1)}}',
    Aa =
      '._timer_211du_1{padding:0 var(--xs-spacing);position:relative;width:fit-content;z-index:1}._timer_211du_1:before{background-color:var(--adsgram-opacity-button-color);border-radius:var(--s-spacing);content:"";inset:0;position:absolute;z-index:-1}._time_211du_1{color:var(--adsgram-button-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:23px;text-align:center;vertical-align:top}',
    Ta =
      '._tooltip_12o8f_1{align-self:center;animation-duration:.2s;animation-fill-mode:forwards;animation-name:_show_12o8f_1;animation-play-state:running;animation-timing-function:cubic-bezier(.2,0,0,1);background-color:var(--adsgram-secondary-bg-color);border-radius:var(--s-spacing);box-shadow:0 1px 2px #00000029;cursor:default;opacity:0;padding:10px 12px;position:relative;scale:25%;text-align:center;top:-10px;transform:translate(30px)}@keyframes _show_12o8f_1{0%{opacity:0;scale:25%;top:-10px}to{opacity:1;scale:100%;top:10px}}._tooltip_12o8f_1:after{border:6px solid;border-color:#0000 #0000 var(--adsgram-secondary-bg-color) #0000;content:"";left:50%;position:absolute;top:0;transform:translate(-50%,-100%)}._title_12o8f_46{color:var(--adsgram-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:16px;margin:0;text-align:center}',
    Pa = '._wrapper_1t8xa_1{height:100%;position:relative;width:100%}',
    Ca =
      '._overlay_h6eeg_1{align-items:center;background-color:#0009;border-radius:var(--xs-spacing);display:flex;height:100%;justify-content:center;width:100%}._image_h6eeg_11{aspect-ratio:1/1;filter:drop-shadow(2px 2px 2px rgb(0 0 0/60%));width:25%}',
    Na =
      '*{border:none;margin:0;padding:0}*,:after,:before{box-sizing:border-box}a,a:hover,a:link,a:visited{text-decoration:none}button,input,select,textarea{background-color:initial;color:inherit;font-family:inherit;font-size:inherit}:host{font-family:roboto,sans-serif}',
    Sa =
      ':host{--xxxs-spacing:4px;--xxs-spacing:6px;--xs-spacing:8px;--s-spacing:12px;--text-xs:12px;--text-s:13px;--text-m:15px;--text-l:16px;--font-normal:400;--font-medium:500;--font-semibold:600}'
  function Ra(e) {
    if (e.shadowRoot) return e.shadowRoot
    const t = e.attachShadow({ mode: 'closed' }),
      n = document.createElement('style')
    return (
      (n.textContent = (function () {
        const e = Object.assign({
          '/src/banners/fullscreenMedia/fullscreenMedia.module.css': na,
          '/src/banners/rwvideo/rwvideo.module.css': ra,
          '/src/components/adsgramLabel/adsgramLabel.module.css': ia,
          '/src/components/chatBackground/chatBackground.module.css': aa,
          '/src/components/footer/footer.module.css': oa,
          '/src/components/kebab/kebab.module.css': sa,
          '/src/components/kebab/kebabContet.module.css': la,
          '/src/components/kebab/legalInfoItem.module.css': ca,
          '/src/components/player/components/actionButton/actionButton.module.css':
            da,
          '/src/components/player/components/adLabel/adLabel.module.css': ua,
          '/src/components/player/components/close/close.module.css': pa,
          '/src/components/player/components/closeButton/closeButton.module.css':
            ha,
          '/src/components/player/components/footer/footer.module.css': _a,
          '/src/components/player/components/header/header.module.css': ma,
          '/src/components/player/components/packshot/packshot.module.css': fa,
          '/src/components/player/components/playerInitContainer/playerInitContainer.css':
            ga,
          '/src/components/player/components/skipPoint/skipPoint.module.css':
            va,
          '/src/components/player/components/timeline/timeline.module.css': ba,
          '/src/components/player/components/volume/volume.module.css': ya,
          '/src/components/player/player.module.css': wa,
          '/src/components/post/post.module.css': ka,
          '/src/components/postButton/postButton.module.css': Ea,
          '/src/components/postCloseButton/postCloseButton.module.css': xa,
          '/src/components/timer/timer.module.css': Aa,
          '/src/components/tooltip/tooltip.module.css': Ta,
          '/src/preview/components/previewWrapper/previewWrapper.module.css':
            Pa,
          '/src/preview/components/replay/replay.module.css': Ca,
          '/src/theme/reset.css': Na,
          '/src/theme/variables.css': Sa,
        })
        return Object.values(e).join('')
      })()),
      t.append(n),
      t
    )
  }
  const Ia = {
    light: {
      accentTextColor: '#168acd',
      bgColor: '#ffffff',
      buttonColor: '#40a7e3',
      buttonTextColor: '#ffffff',
      destructiveTextColor: '#d14e4e',
      headerBgColor: '#ffffff',
      hintColor: '#768594',
      linkColor: '#2798E5',
      secondaryBgColor: '#f1f1f1',
      sectionBgColor: '#ffffff',
      sectionHeaderTextColor: '#168acd',
      sectionSeparatorColor: '#e7e7e7',
      subtitleTextColor: '#999999',
      textColor: '#000000',
      opacityButtonColor: 'rgb(84 140 73 / 50%)',
    },
    dark: {
      accentTextColor: '#6ab2f2',
      bgColor: '#121929',
      buttonColor: '#5288c1',
      buttonTextColor: '#ffffff',
      destructiveTextColor: '#ec3942',
      headerBgColor: '#17212b',
      hintColor: '#768594',
      linkColor: '#2798E5',
      secondaryBgColor: '#222E3A',
      sectionBgColor: '#17212b',
      sectionHeaderTextColor: '#6ab3f3',
      sectionSeparatorColor: '#111921',
      subtitleTextColor: '#708499',
      textColor: '#ffffff',
      opacityButtonColor: 'rgb(50 63 76 / 60%)',
    },
  }
  function Va() {
    const { themeParams: e } = Y()
    return e
  }
  function La() {
    const { bgColor: e } = Va()
    return (
      !!e &&
      (function (e) {
        const t = M(e)
        return (
          Math.sqrt(
            [0.299, 0.587, 0.114].reduce((e, n, r) => {
              const i = Number.parseInt(t.slice(1 + 2 * r, 1 + 2 * (r + 1)), 16)
              return e + i * i * n
            }, 0)
          ) < 120
        )
      })(e)
    )
  }
  const Oa = (e) =>
    `--adsgram-${e.replace(/[A-Z]/g, (e) => `-${e.toLowerCase()}`)}`
  function Ua({ blockId: e, container: t, data: n, EventEmitter: r }) {
    const i =
        t && ta(t)
          ? t
          : (function (e) {
              const t = document.createElement('div')
              return (
                document.documentElement.append(t),
                t.setAttribute('id', e),
                t.setAttribute(
                  'style',
                  'position: relative;z-index:2147483647;'
                ),
                t
              )
            })(e),
      a = Ra(i),
      o = La()
    !(function (e = document.documentElement, t) {
      const n = Object.entries(null != t ? t : Va())
      for (const [a, o] of n)
        o &&
          ((r = Oa(a)),
          (i = o),
          (e || document.documentElement).style.setProperty(r, i))
      var r, i
    })(i, o ? Ia.dark : Ia.light),
      mt({ data: n, EventEmitter: r }),
      (function (e) {
        const t = document.createElement('style')
        ;(t.textContent =
          "@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap')"),
          e.append(t)
      })(i)
    const s = Te()
    s.add('blockId', e)
      .add('bannerType', n.bannerType)
      .add('blockType', n.blockType)
      .add('campaignId', n.campaignId)
    try {
      ct(
        Un(ea, {
          bannerType: n.bannerType,
          blockType: n.blockType,
          data: n,
          blockId: e,
          EventEmitter: r,
          logger: s,
          isDark: o,
        }),
        a
      )
    } catch (c) {
      s.send('RenderError'), r.emit(pt.renderError)
    }
    const l = () => {
      !(function ({
        blockId: e,
        shadowRoot: t,
        container: n,
        shouldRemoveContainer: r,
      }) {
        ct(null, t)
        const i = null != n ? n : document.getElementById(e)
        i && r && i.remove()
      })({
        blockId: e,
        container: i,
        shadowRoot: a,
        shouldRemoveContainer: !(t && ta(t)),
      }),
        r.off(pt.finalDestroy, l)
    }
    r.on(pt.finalDestroy, l)
  }
  class Da {
    constructor({ blockId: e, container: t, debug: n, debugBannerType: r }) {
      d(this, 'blockId'),
        d(this, 'EventEmitter'),
        d(this, 'bannerData'),
        d(this, 'forceCampaignId'),
        d(this, 'loadBannerPromise'),
        d(this, 'container'),
        d(this, 'isShowing'),
        d(this, 'isLoading'),
        (this.blockId = e),
        (this.container = t),
        (this.EventEmitter = new xn()),
        this.subscribe(),
        (this.isShowing = !1),
        (this.isLoading = !1),
        (this.forceCampaignId = n ? ee[null != r ? r : te] : void 0)
    }
    show() {
      return u(this, null, function* () {
        if (!this.bannerData) {
          if (!(yield this._load())) throw ie.noBannerToShowError
        }
        if (this.isShowing) throw ie.duplicateShowError
        return new Promise((e, t) => {
          if (!this.bannerData) return t(ie.noBannerDataError)
          ;(this.isShowing = !0), this.EventEmitter.emit(pt.show)
          try {
            Ua({
              blockId: this.blockId,
              container: this.container,
              data: this.bannerData,
              EventEmitter: this.EventEmitter,
            })
          } catch (n) {
            Te()
              .add('blockId', this.blockId)
              .add('bannerType', this.bannerData.bannerType)
              .add('blockType', this.bannerData.blockType)
              .add('campaignId', this.bannerData.campaignId)
              .send('UnknownRenderError', 'WARN'),
              t(ie.renderError)
          }
          this.EventEmitter.on(pt.renderError, () => {
            this.EventEmitter.emit(ht.onError), t(ie.renderError)
          }),
            this.EventEmitter.on(pt.error, () => {
              this.EventEmitter.emit(ht.onError), t(ie.playError)
            }),
            this.EventEmitter.on(ht.onSkip, () => {
              t(ie.skip)
            }),
            this.EventEmitter.on(ht.onReward, () => {
              e(ie.reward)
            }),
            this.EventEmitter.on(ht.onComplete, () => {
              e(ie.complete)
            })
        })
      })
    }
    load() {
      return u(this, null, function* () {
        return (
          console.error(
            'AdsgramError: Deprecated method AdController.load, use AdController.show right away'
          ),
          Te()
            .add('blockId', this.blockId)
            .send('DeprecatedLoadInvoked', 'WARN'),
          !0
        )
      })
    }
    preload() {
      return u(this, null, function* () {
        console.error(
          'AdsgramError: Deprecated method AdController.preload, use AdController.show right away'
        ),
          Te()
            .add('blockId', this.blockId)
            .send('DeprecatedPreloadInvoked', 'WARN'),
          this.EventEmitter.emit(pt.preload)
      })
    }
    addEventListener(e, t) {
      if (!ht[e])
        throw new ye({
          message: `The event argument must be one of ${Object.keys(ht).join(', ')}. Received ${e}`,
        })
      this.EventEmitter.on(e, t)
    }
    removeEventListener(e, t) {
      if (!ht[e])
        throw new ye({
          message: `The event argument must be one of ${Object.keys(ht).join(', ')}. Received ${e}`,
        })
      this.EventEmitter.off(e, t)
    }
    destroy() {
      this.EventEmitter.emit(pt.destroy)
    }
    _load() {
      return u(this, null, function* () {
        var e
        return (
          !(null == (e = this.bannerData) || !e) ||
          (this.loadBannerPromise instanceof Promise && this.isLoading
            ? yield this.loadBannerPromise
            : ((this.isLoading = !0),
              this.EventEmitter.emit(pt.load),
              (this.loadBannerPromise = Pe(this.blockId, this.forceCampaignId)
                .then((e) =>
                  e && e.bannerType
                    ? ((this.bannerData = e), !0)
                    : (this.EventEmitter.hasHandlers(ht.onBannerNotFound)
                        ? this.EventEmitter.emit(ht.onBannerNotFound)
                        : be({ message: Q(p) }),
                      !1)
                )
                .catch(() => (this.EventEmitter.emit(ht.onError), !1))
                .finally(() => {
                  this.isLoading = !1
                })),
              this.loadBannerPromise))
        )
      })
    }
    finalDestroy() {
      this.EventEmitter.emit(pt.finalDestroy), this.resetVariables()
    }
    subscribe() {
      this.EventEmitter.on(pt.destroy, this.finalDestroy.bind(this)),
        this.EventEmitter.on(ht.onReward, this.finalDestroy.bind(this)),
        this.EventEmitter.on(ht.onComplete, this.finalDestroy.bind(this)),
        this.EventEmitter.on(ht.onSkip, this.finalDestroy.bind(this)),
        this.EventEmitter.on(pt.error, this.finalDestroy.bind(this)),
        this.EventEmitter.on(pt.renderError, this.finalDestroy.bind(this))
    }
    resetVariables() {
      ;(this.bannerData = void 0),
        (this.loadBannerPromise = void 0),
        (this.isShowing = !1)
    }
  }
  const Fa = {
    blockId: function (e) {
      if (!('blockId' in e))
        throw new ye({ message: 'blockId is required param for init function' })
      if ('string' != typeof e.blockId)
        throw new ye({ message: 'blockId param should be string' })
      if (!/\d+/.test(e.blockId))
        throw new ye({
          message: `blockId param should be string with number value inside, you pass ${e.blockId}`,
        })
      return !0
    },
    container: function (e) {
      if ('container' in e) {
        if (e.container instanceof HTMLElement) return !0
        throw new ye({
          message: `container should be instanceof HTMLElement you call with ${JSON.stringify(e.container)}`,
        })
      }
      return !0
    },
    hasReward: function (e) {
      if ('hasReward' in e) {
        if ('boolean' != typeof e.hasReward)
          throw new ye({
            message: `hasReward should be boolean you call with ${JSON.stringify(e.hasReward)}`,
          })
        return !0
      }
      return !0
    },
    debug: function (e) {
      if ('debug' in e) {
        if ('boolean' != typeof e.debug)
          throw new ye({
            message: `debug should be boolean you call with ${JSON.stringify(e.debug)}`,
          })
        return !0
      }
      return !0
    },
    debugBannerType: function (e) {
      if ('debugBannerType' in e) {
        if ('string' != typeof e.debugBannerType)
          throw new ye({
            message: `debugBannerType should be string you call with ${JSON.stringify(e.debugBannerType)}`,
          })
        if (!Object.keys(ee).includes(e.debugBannerType))
          throw new ye({
            message: `debugBannerType should be one of ${Object.keys(ee)} you call with ${e.debugBannerType}`,
          })
      }
      return !0
    },
  }
  const Ba = {}
  function Ma(e) {
    if (
      !(function (e) {
        if ('object' != typeof e)
          throw new ye({
            message: `Object should be passed to the init function you pass ${JSON.stringify(e)}`,
          })
        return (
          !(
            'object' != typeof e ||
            e instanceof Function ||
            Array.isArray(e) ||
            null === e
          ) && Object.values(Fa).every((t) => t(e))
        )
      })(e)
    )
      throw new ye({
        message: 'Attempt to create AdController with wrong params',
      })
    const { blockId: t } = e
    return Ba[t] || (Ba[t] = new Da(e)), Ba[t]
  }
  function ja(e) {
    return Ma(e)
  }
  ;(ja.version = '0.4.0'),
    (window.Adsgram = c(l({}, window.Adsgram), { init: ja })),
    (e.init = ja),
    Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' })
})
